<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Academic publishing careers in NL: gathering names</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="tweaks.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Independent variables
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="names.html">Names</a>
    </li>
    <li>
      <a href="gender.html">Gender</a>
    </li>
    <li>
      <a href="ethnicity.html">Ethnicity</a>
    </li>
    <li>
      <a href="discipline.html">Discipline</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Data preparation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="datapreparation.html">Preparation 'starting / ceasing to publish'</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Descriptives
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="table1.html">Table 1</a>
    </li>
    <li>
      <a href="table2.html">Table 2</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="starting_analyses.html">Analyses 'starting to publish'</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Appendices
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="splines.html">Splines</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ammulders/amatteroftime">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Academic publishing careers in NL:
gathering names</h1>
<h4 class="date">Last compiled on april, 2023</h4>

</div>


<pre><code>## NULL</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<hr />
<p>This lab journal shows the extraction and cleaning of first and last
names of doctoral recipients on a mock data set.</p>
<hr />
<p>Starting with an empty environment.</p>
<pre class="r test"><code>rm(list = ls())</code></pre>
<div id="custom-functions" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Custom functions</h1>
<ul>
<li><code>pacage.check</code>: Check if packages are installed (and
install if not) in R (<a
href="https://vbaliga.github.io/verify-that-r-packages-are-installed-and-loaded/">source</a>).</li>
</ul>
<pre class="r test"><code>fpackage.check &lt;- function(packages) {
  lapply(packages, FUN = function(x) {
    if (!require(x, character.only = TRUE)) {
      install.packages(x, dependencies = TRUE)
      library(x, character.only = TRUE)
    }
  })
}</code></pre>
<hr />
</div>
<div id="packages" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Packages</h1>
<ul>
<li><code>stringr</code>: to execute various string manipulations</li>
<li><code>stringi</code>: to remove diacritics</li>
</ul>
<pre class="r test"><code>packages = c(&quot;tidyverse&quot;, &quot;stringr&quot;, &quot;stringi&quot;, &quot;formatR&quot;)

fpackage.check(packages)</code></pre>
<hr />
</div>
<div id="input" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Input</h1>
<pre class="r test"><code>load(file = &quot;./data/phd_metadf.rda&quot;)</code></pre>
<p>This lab journal is used to demonstrate how we extract first and last
names from PhDs.</p>
<p>For this, we use an example dataframe containing 8 observations (4
ethnic majority names, 2 ethnic minority names, 2 other names - all
split equally between male- and female-typed first names). This mock
dataframe mirrors the set-up of our web-scraped data, which consists of
name information which are web scraped from different sources.</p>
<ul>
<li>1 auteur: the ‘author’ column on NARCIS dissertation pages</li>
<li>2 narcisname: full name that is mentioned at the top of personal
NARCIS pages</li>
<li>3 pdfname and pdfnamep1: full names mentioned in the running text of
dissertation PDF, and on cover pages of the dissertation provided by a
subset of universities, respectively.</li>
</ul>
<p>Below you can see the example data,</p>
<pre class="r test"><code>phd_metadf</code></pre>
<pre class="test2"><code>#&gt;                          auteur                       narcisname                        pdfname
#&gt; 1           Verschuuren, J-W.M.               J.W.M. Verschuuren jan-willem marinus verschuuren
#&gt; 2       Janssen-de Jong, Corine Prof. Dr. C.W.P. Janssen-de Jong                               
#&gt; 3 Vries, J. de; Lammers, H.G.W.                     de Vries, J.                   jan de vries
#&gt; 4               van Vliet, M.A.     Dr. M.A. (Monique) van Vliet                               
#&gt; 5                     Aydin, S.                         Aydin, S                    selim aydin
#&gt; 6           Karimi, Nahid Fouad                N.F. Karimi (MSc)                               
#&gt; 7                  Bernard, J.O         Bernard, Jacques Olivier                jacques bernard
#&gt; 8         L.C. Schneider (Lena)                    Schneider, LC                               
#&gt;                         pdfnamep1             diss_birthplace uni phd_year id
#&gt; 1 verschuuren, jan-willem marinus    geboren te &#39;s-gravenhage UvA     2013  a
#&gt; 2              de jong, c. w. p.                              RUG     1998  b
#&gt; 3                                     geboren te oldenzaal in EUR     2004  c
#&gt; 4              vliet, monique van                             TUE     2006  d
#&gt; 5                    aydin, selim geboren te giresun, turkije  RU     2017  e
#&gt; 6                                                              LU     2012  f
#&gt; 7                bernard, jacques          quimper, frankrijk  UU     2019  g
#&gt; 8        schneider, lena carolina                             WUR     2000  h</code></pre>
<hr />
</div>
<div
id="gathering-first-names-from-auteurauthor-on-narcis-dissertation-pages"
class="section level1" number="4">
<h1><span class="header-section-number">4</span> 1: Gathering first
names from ‘auteur’(Author) on NARCIS dissertation pages</h1>
<p>Some dissertations appear to have multiple authors. We only want the
first author, so remove everything after “;”</p>
<pre class="r test"><code>phd_metadf$auteur &lt;- gsub(&quot;;.*&quot;, &quot;&quot;, phd_metadf$auteur)</code></pre>
<div id="first-names-in-brackets" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> First names in
brackets</h2>
<pre class="r test"><code>phd_metadf$firstname &lt;- str_extract(phd_metadf$auteur, &quot;(?&lt;=\\().*(?=\\))&quot;)

phd_metadf$firstname &lt;- ifelse(phd_metadf$firstname == &quot;&quot;, NA, phd_metadf$firstname)</code></pre>
</div>
<div id="first-names-after-a-comma" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> First names after a
comma</h2>
<pre class="r test"><code>phd_metadf$com &lt;- str_detect(phd_metadf$auteur, &quot;,&quot;) # detect comma

# Keep everything after a comma if there is one
phd_metadf &lt;- phd_metadf %&gt;%
  mutate(firstname = ifelse((is.na(firstname) &amp; com==TRUE), str_remove(auteur, &quot;.*,&quot;), firstname)) %&gt;% select(-com)</code></pre>
<pre class="r test"><code>phd_metadf$firstname &lt;- trimws(phd_metadf$firstname, which = c(&quot;both&quot;), whitespace = &quot;[ \t\r\n]&quot;)</code></pre>
</div>
<div id="cleaning-the-first-names" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Cleaning the first
names</h2>
<p>Many last names include so-called ‘nobiliary particles’. These are
additions to the last name (e.g. “van de” in Dutch, “de la” in French or
“zu” in German). In order to extract the first names we detect and
remove these. Nobiliary particles have crept into first name when
gathering everything after a comma, for example when names are in the
format of “Vries, Jan de”. The nobiliary particles are also important to
separate from the rest of the last name to create matchable last names
later.</p>
<pre class="r test"><code># Removing all nobiliary particles that consist of multiple words
vande0 &lt;- c(&quot;(V|v)an (D|d)er&quot;, &quot;(V|v)an (D|d)en&quot;, &quot;(V|v)an (D|d)e&quot;, &quot;(V|v)ande(n)?&quot;, &quot;(V|v)an &#39;(T|t)&quot;, &quot;(V|v)an&#39;(T|t)&quot;, &quot;(V|v)an (T|t)&quot;, &quot;(V|v)an (H|h)et&quot;, &quot;(V|v)on (D|d)er&quot;, &quot;(O|o)p den&quot;, &quot;(O|o)p &#39;t&quot;, &quot;(O|o)f ten&quot;, &quot;(A|a)an de(n)?&quot;, &quot;(D|d)e (L|l)a&quot;, &quot;(I|i)n (H|h)et&quot;, &quot;(I|i)n &#39;(T|t)&quot;, &quot;(I|i)n&#39;(T|t)&quot;,&quot;(I|i)n (T|t)&quot;, &quot;(I|i)n (D|d)er&quot;, &quot;(B|b)ij (D|d)e&quot;) 


# Some of the nobiliary particles can actually be part of the first name, e.g. &quot;Al&quot; in the name &quot;Alice&quot;. These require some more care to remove: only remove these when surrounded by whitespaces or when they take up the entire name.  

# Whitespaces around van/de
vande1 &lt;- c(&quot;\\s(L|l)a\\s&quot;, &quot;\\s(O|o)p\\s&quot; ,&quot;\\s(V|v)an\\s&quot;, &quot;\\s(V|v)on\\s&quot;, &quot;\\s(D|d)en\\s&quot;, &quot;\\s(D|d)er\\s&quot;, &quot;\\s(D|d)el\\s&quot;, &quot;\\s(D|d)(e|a|u|i)\\s&quot;, &quot;\\s(D|d)os?\\s&quot;, &quot;\\s(T|t)er\\s&quot;, &quot;\\s(T|t)en\\s&quot;, &quot;\\s(T|t)e\\s&quot;, &quot;\\s&#39;(T|t)\\s&quot;, &quot;\\s(L|l)e\\s&quot;, &quot;\\s(E|A)l-&quot;, &quot;\\s[(A|a)(E|e)](L|l)&#39;?\\s&quot;, &quot;\\s(D|d)&#39;&quot;, &quot;\\szu\\s&quot;, &quot;\\s(Z|z)ur\\s&quot;, &quot;\\s(Y|y)\\s&quot;, &quot;\\s(E|e)\\s&quot;) 


# Entire string consists of van/de
vande2 &lt;- c(&quot;^(L|l)a$&quot;, &quot;^(O|o)p$&quot; , &quot;^(V|v)an$&quot;, &quot;^(V|v)on$&quot;, &quot;^(D|d)en$&quot;, &quot;^(D|d)er$&quot;, &quot;^(D|d)el$&quot;, &quot;^(D|d)(e|a|u|i)$&quot;, &quot;^(D|d)os?$&quot;, &quot;^Vande[$//s]&quot;, &quot;^(T|t)er$&quot;,  &quot;^(T|t)en$&quot;, &quot;^(T|t)e$&quot;, &quot;^&#39;(T|t)$&quot;, &quot;^(L|l)e$&quot;, &quot;^[(A|a)(E|e)](L|l)&#39;?$&quot;, &quot;^(D|d)&#39;$&quot;, &quot;^zu$&quot;, &quot;^(Z|z)ur$&quot;)


# String starts with van/de followed by a whitespace
vande3 &lt;- c(&quot;^(L|l)a\\s&quot;, &quot;^(O|o)p\\s&quot; ,&quot;^(V|v)an\\s&quot;, &quot;^(V|v)on\\s&quot;, &quot;^(D|d)en\\s&quot;, &quot;^(D|d)er\\s&quot;, &quot;^(D|d)el\\s&quot;, &quot;^(D|d)(e|a|u|i)\\s&quot;, &quot;^(D|d)os?\\s&quot;, &quot;^(T|t)er\\s&quot; , &quot;^(T|t)en\\s&quot;, &quot;^(T|t)e\\s&quot;, &quot;^&#39;(T|t)\\s&quot;, &quot;^(L|l)e\\s&quot;, &quot;^El-&quot;, &quot;^[(A|a)(E|e)](L|l)&#39;?\\s&quot;, &quot;^(D|d)&#39;&quot;, &quot;^zu\\s&quot;, &quot;^(Z|z)ur\\s&quot;, &quot;^e\\s&quot;)


# String ends with van/de
vande4 &lt;- c(&quot;\\s(L|l)a$&quot;, &quot;\\s(O|o)p$&quot; ,&quot;\\s(V|v)an$&quot;, &quot;\\s(V|v)on$&quot;, &quot;\\s(D|d)en$&quot;, &quot;\\s(D|d)er$&quot;, &quot;\\s(D|d)el$&quot;, &quot;\\s(D|d)(e|a|u|i)$&quot;, &quot;\\s(D|d)os?$&quot;, &quot;\\s(T|t)er$&quot;, &quot;\\s(T|t)en$&quot;, &quot;\\s(T|t)e$&quot;, &quot;\\s&#39;(T|t)$&quot;, &quot;\\s(L|l)e$&quot;, &quot;\\s[(A|a)(E|e)](L|l)&#39;?$&quot;, &quot;\\s(D|d)&#39;$&quot;, &quot;\\szu$&quot;, &quot;\\s(Z|z)ur$&quot;)



# remove the nobiliary particles in different forms
phd_metadf$firstname &lt;- str_remove(phd_metadf$firstname, paste0(vande0, collapse=&quot;|&quot;))
phd_metadf$firstname &lt;- str_replace_all(phd_metadf$firstname, paste(vande1, collapse = &quot;|&quot;), &quot;&quot;)
phd_metadf$firstname &lt;- str_remove_all(phd_metadf$firstname, paste(vande2, collapse = &quot;|&quot;))
phd_metadf$firstname &lt;- str_replace_all(phd_metadf$firstname, paste(vande3, collapse = &quot;|&quot;), &quot;&quot;)
phd_metadf$firstname &lt;- str_remove(phd_metadf$firstname, paste(vande4, collapse = &quot;|&quot;))</code></pre>
<div id="removing-initials-after-the-comma-in-auteur"
class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Removing initials
after the comma in auteur</h3>
<p>Since we extracted everything after the comma, some of the first
names contain initials, e.g.: “Smith, A.B.C.”. We remove these.</p>
<pre class="r test"><code>phd_metadf$firstname &lt;- trimws(phd_metadf$firstname, which = &quot;both&quot;)


# There are multiple patterns, and we want to extract all possible forms of initials into our object

initialpattern &lt;- paste(c(&quot;^\\s?([:upper:]\\.)+[:upper:]\\s?$&quot;,   # A.A.A (last initial does not contain a period at the end)
                          &quot;([:upper:]\\.?\\-\\.?)+&quot;,                  # A- or A-. or A.-
                          &quot;([:upper:]\\.+)+&quot;, &quot;([:lower:]\\.){2,}&quot;,   # A.  or a.
                          &quot;(T|t|C|c|P|p)h\\.\\s?&quot;,                    # Th. Ph. Ch. 
                          &quot;^\\s?([:alpha:]\\s)+&quot;,                     # A or a surrounded by whitespace
                          &quot;^\\s?[:alpha:]\\.?\\s?$&quot;,                  # entire string consists of a single letter
                          &quot;^\\s?[:upper:]{2,4}\\s?$&quot;),                # entire string consists of 2-4 capital letters
                        collapse = &quot;|&quot;)


phd_metadf$initials2 &lt;- as.character((str_extract_all(phd_metadf$firstname, initialpattern)))


# If there were multiple different patterns present in the initials, they were combined in a c() object. Remove the unnecessary text here. 
phd_metadf$initials2 &lt;- gsub(&quot;c\\(\&quot;&quot;, &quot;&quot;, phd_metadf$initials2)
phd_metadf$initials2 &lt;- gsub(&quot;\&quot;, \&quot;&quot;, &quot;&quot;, phd_metadf$initials2)
phd_metadf$initials2 &lt;- gsub(&quot;\&quot;\\)&quot;, &quot;&quot;, phd_metadf$initials2)</code></pre>
<p>In order to extract first names, we remove the initials gathered in
the chunk above.</p>
<pre class="r test"><code>phd_metadf$firstname &lt;- str_remove(phd_metadf$firstname, phd_metadf$initials2)

phd_metadf$firstname &lt;- trimws(phd_metadf$firstname, which = &quot;both&quot;)

phd_metadf &lt;- subset(phd_metadf, select=-initials2)</code></pre>
<p>Final cleaning steps</p>
<pre class="r test"><code>phd_metadf$firstname &lt;- gsub(&quot;/.*&quot;, &quot;&quot;, phd_metadf$firstname) # Some names in the form &quot;Floor/Floris&quot;. Remove everything after &quot;/&quot;

# make the names lowercase
phd_metadf$firstname &lt;- tolower(phd_metadf$firstname)

# remove diacritics
phd_metadf$firstname &lt;- stri_trans_general(phd_metadf$firstname, id = &quot;latin-ascii&quot;)

# remove non-letter characters, taking the first mentioned name
phd_metadf$firstname &lt;- str_extract(phd_metadf$firstname, &quot;[a-z]+\\-*[a-z]*&quot;)

# removing white spaces at the beginning and at the end of the name first name string
phd_metadf$firstname &lt;- trimws(phd_metadf$firstname, which = &quot;both&quot;)

# removing nobiliary particles which slipped through
phd_metadf$firstname &lt;- str_remove_all(phd_metadf$firstname, paste(vande2, collapse = &quot;|&quot;))

phd_metadf &lt;- phd_metadf %&gt;%
  mutate(firstname = ifelse((firstname == &quot;^\\s$&quot; | firstname == &quot;&quot;) ,NA, firstname)) # empty string to NA

phd_metadf$firstname &lt;- ifelse(nchar(phd_metadf$firstname)==1, NA, phd_metadf$firstname) # single-character string (i.e. initial) to NA</code></pre>
</div>
</div>
</div>
<div id="last-names-from-auteur-on-narcis-dissertation-page"
class="section level1" number="5">
<h1><span class="header-section-number">5</span> 2: Last names from
‘auteur’ on NARCIS dissertation page</h1>
<p>First, we extract last names in the format “lastname comma
firstname”</p>
<pre class="r test"><code># remove everything after a comma
phd_metadf$lastname &lt;- gsub(&quot;,.*$&quot;, &quot;&quot;, phd_metadf$auteur) 

# remove diacritics
phd_metadf$lastname &lt;- stri_trans_general(phd_metadf$lastname, id = &quot;latin-ascii&quot;)

# we assume that V/D, v/d and v.d. indicate the popular Dutch nobiliary particle &quot;van de&quot;
phd_metadf$lastname &lt;- str_replace(phd_metadf$lastname, &quot;(v\\.d\\.)|((V|v)/(D|d))&quot;, &quot;van de&quot;)


# remove initials
phd_metadf$lastname &lt;- str_remove_all(phd_metadf$lastname, initialpattern) # object initialpattern defined in section 1
phd_metadf$lastname &lt;- trimws(phd_metadf$lastname, which = &quot;both&quot;) # removing whitespace


# remove titles
phd_metadf$lastname &lt;- trimws(phd_metadf$lastname, which = &quot;both&quot;)
phd_metadf$lastname &lt;- str_remove_all(phd_metadf$lastname, &quot;(^(M|m)r\\.?\\s)|(^(D|d)rs?\\.?\\s)|(^St\\.\\s)|(^(M|M)r?s\\.?\\s)|(^ext\\.\\s)|(^(M|m)d\\.?\\s)&quot;)


# remove first names between brackets from the last name
phd_metadf$lastname &lt;- str_remove_all(phd_metadf$lastname, &quot;\\s\\(.*\\)$&quot;)


# Next, we extract the nobiliary particles and save these in a separate object. These can be used when matching names to other databases later. 

phd_metadf$lastname &lt;- trimws(phd_metadf$lastname, which = &quot;both&quot;) # first, we trim whitespaces

# extract nobiliary particles at the beginning of the last name string (vande3)
phd_metadf$np &lt;- str_extract(phd_metadf$lastname, paste(vande3, collapse = &quot;|&quot;)) # extract into new variable np
phd_metadf$lastname &lt;- str_remove(phd_metadf$lastname, paste(vande3, collapse = &quot;|&quot;)) # remove from lastname variable

# extract nobiliary particles at the end of the auteur string (vande4)
# first detect, or else it overwrites the np with NA if not applicable
phd_metadf$end &lt;- as.numeric(str_detect(phd_metadf$auteur, paste(vande4, collapse = &quot;|&quot;)))
phd_metadf$np &lt;- ifelse(phd_metadf$end==1, str_extract(phd_metadf$auteur, paste(vande4, collapse = &quot;|&quot;)), phd_metadf$np) #only extract if np is detected at the end
phd_metadf &lt;- subset(phd_metadf, select = -end)

# also extract nobiliary particles at the end of the lastname string (vande4)
phd_metadf$end &lt;- as.numeric(str_detect(phd_metadf$lastname, paste(vande4, collapse = &quot;|&quot;)))
phd_metadf$np &lt;- ifelse(phd_metadf$end==1, str_extract(phd_metadf$lastname, paste(vande4, collapse = &quot;|&quot;)), phd_metadf$np)
phd_metadf$lastname &lt;- str_remove(phd_metadf$lastname, paste(vande4, collapse = &quot;|&quot;))
phd_metadf &lt;- subset(phd_metadf, select = -end) #remove intermediate object

# trim white spaces in the noviliary particle
phd_metadf$np &lt;- trimws(phd_metadf$np, which = &quot;both&quot;)

# removing multiple spaces
phd_metadf$lastname &lt;- sub(&quot;\\s{2,}&quot;, &quot;\\s&quot;, phd_metadf$lastname)
phd_metadf$lastname &lt;- trimws(phd_metadf$lastname, which = &quot;both&quot;)

# removing &quot;-&quot; from nobiliary particle El- or Al- and &quot;&#39;&quot; for &#39;t 
phd_metadf$np &lt;- str_remove(phd_metadf$np, &quot;-&quot;)
phd_metadf$np &lt;- str_remove(phd_metadf$np, &quot;\&#39;&quot;)

# remove Jr.
phd_metadf$lastname &lt;- str_remove(phd_metadf$lastname, &quot;\\sJr\\.$&quot;)
phd_metadf$lastname &lt;- str_remove(phd_metadf$lastname, &quot;\\sJunior$&quot;)

# remove interpunction
phd_metadf$lastname &lt;- str_remove_all(phd_metadf$lastname, &quot;(\\?)|(\\`)|(\\^)|(^\\&#39;)|(\\´)|(\\·)&quot;)

# names and nobiliary particles to lowercase
phd_metadf$lastname &lt;- tolower(phd_metadf$lastname)
phd_metadf$np &lt;- tolower(phd_metadf$np)

# we only want the first last name if there are multiple
phd_metadf$lastname &lt;- str_extract(phd_metadf$lastname, &quot;[:lower:]+&quot;)


# combining nobiliary particle and last name into a separate objecr
phd_metadf %&gt;%
  mutate(lastname_full = ifelse(!is.na(np), paste(np, lastname), lastname)) -&gt; phd_metadf</code></pre>
</div>
<div id="extracting-first-names-from-personal-narcis-profiles"
class="section level1" number="6">
<h1><span class="header-section-number">6</span> 3: Extracting first
names from personal NARCIS profiles</h1>
<p>In the following part of the script, first names from personal NARCIS
profiles will be cleaned. The method here is roughly the same as the
method used to clean the first names from the ‘Author’ section of
dissertation NARCIS pages.</p>
<p>The cleaned first names are stored in an intermediate object, “int”,
to ensure that the original scraped name is preserved in
“narcisname”.</p>
<div id="extract-first-names-in-brackets" class="section level2"
number="6.1">
<h2><span class="header-section-number">6.1</span> Extract first names
in brackets</h2>
<p>E.g. “A.B.C. (Andrea) Smith”</p>
<pre class="r test"><code>phd_metadf$int &lt;- str_extract(phd_metadf$narcisname, &quot;(?&lt;=\\().*(?=\\))&quot;)

phd_metadf$int &lt;- ifelse(phd_metadf$int == &quot;&quot;, NA, phd_metadf$int)</code></pre>
</div>
<div id="extract-everything-after-a-comma" class="section level2"
number="6.2">
<h2><span class="header-section-number">6.2</span> Extract everything
after a comma</h2>
<p>E.g. “Smith, Andrea”</p>
<pre class="r test"><code>phd_metadf$comma &lt;- str_detect(phd_metadf$narcisname, &quot;,&quot;) # only when narcisname contains a comma

phd_metadf &lt;- phd_metadf %&gt;% 
  mutate(int = ifelse((is.na(int) &amp; comma==TRUE), str_remove(narcisname, &quot;.*,&quot;), int))

phd_metadf$int &lt;- trimws(phd_metadf$int, which = c(&quot;both&quot;))

phd_metadf &lt;- subset(phd_metadf, select = -comma)</code></pre>
</div>
<div id="cleaning-narcis-names" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Cleaning Narcis
names</h2>
<p>Similar approach to extraction of first names from ‘Auteur’, meaning
we remove non-name strings from the name object (nobiliary particles,
initials, titles, punctuation)</p>
<pre class="r test"><code># nobiliary particles at different places in the string
phd_metadf$int &lt;- str_remove(phd_metadf$int, paste0(vande0, collapse=&quot;|&quot;))
phd_metadf$int &lt;- str_remove(phd_metadf$int, paste(vande1, collapse = &quot;|&quot;))
phd_metadf$int &lt;- str_remove(phd_metadf$int, paste(vande2, collapse = &quot;|&quot;))
phd_metadf$int &lt;- str_remove(phd_metadf$int, paste(vande3, collapse = &quot;|&quot;))
phd_metadf$int &lt;- str_remove(phd_metadf$int, paste(vande4, collapse = &quot;|&quot;))

# removing initials 
phd_metadf$int &lt;- str_remove_all(phd_metadf$int, initialpattern) # object initialpattern defined in section 1

# next, we remove a number of different titles that can be found in the name object
phd_metadf$int &lt;- str_remove_all(phd_metadf$int, &quot;(MSc)|(MA)|(MPhil)|(PhD)|(Mr\\.)|(^Mr)|((D|d)rs?\\.)|(Md\\.)|(Mr?s\\.)&quot;)


phd_metadf$int &lt;- gsub(&quot;/.*&quot;, &quot;&quot;, phd_metadf$int) # some names in the form &quot;Floor/Floris&quot;. Remove everything after &quot;/&quot;


# finally, we do some general cleaning of the names
phd_metadf$int &lt;- trimws(phd_metadf$int, which = &quot;both&quot;)

phd_metadf$int &lt;- tolower(phd_metadf$int) # set names to lowercase

# remove diacritics from the name
phd_metadf$int &lt;- stri_trans_general(phd_metadf$int, id = &quot;latin-ascii&quot;)

# keep only the first-mentioned name
phd_metadf$int &lt;- str_extract(phd_metadf$int, &quot;[a-z]+\\-*[a-z]*&quot;)


phd_metadf &lt;- phd_metadf %&gt;%
  mutate(int = ifelse((int == &quot;^//s$&quot; | int == &quot;&quot;) ,NA, int)) # empty to NA

phd_metadf$int &lt;- trimws(phd_metadf$int, which = &quot;both&quot;)
phd_metadf$int &lt;- ifelse(nchar(phd_metadf$int)==1, NA, phd_metadf$int) # remove erroneous one-character names</code></pre>
</div>
</div>
<div
id="combining-first-name-information-from-dissertation-personal-narcis-pages"
class="section level1" number="7">
<h1><span class="header-section-number">7</span> 4: Combining first name
information from dissertation &amp; personal NARCIS pages</h1>
<p>We give priority to names from the dissertation pages, because these
appear to be the formal first names, while personal NARCIS page names
correspond to the given first name. Given that we match individuals
based on the name which is formally registered, it seems appropriate to
take the ‘auteur’ name as the basis and replace with ‘narcisname’ when
the name based on ‘auteur’ is unknown.</p>
<pre class="r test"><code>phd_metadf &lt;- phd_metadf %&gt;%
  mutate(firstname = ifelse(is.na(firstname), int, firstname))

# set empty to NA
phd_metadf &lt;- phd_metadf %&gt;%
  mutate(firstname = ifelse(firstname==&quot;&quot;, NA, firstname))

phd_metadf$narcis_fn &lt;- phd_metadf$int # longer but more informative name

phd_metadf &lt;- subset(phd_metadf, select = -int)</code></pre>
</div>
<div id="first-names-from-dissertation-pdfs" class="section level1"
number="8">
<h1><span class="header-section-number">8</span> 5: First names from
dissertation PDFs</h1>
<p>There are two name objects gathered from the pdfs: pdfname
(consisting of names that were extracted from running text in the
dissertation, often from dissertation front pages) and pdfnamep1 (names
on standardized dissertation frontpages that are provided by a subset of
universities, which contain a specific header for the PhD name)</p>
<div id="cleaning-the-pdfname-object" class="section level2"
number="8.1">
<h2><span class="header-section-number">8.1</span> Cleaning the pdfname
object</h2>
<p>In comparison to the names from the 2 NARCIS page sources, the name
object from the dissertation PDF can sometimes be a bit messy.
Especially the ‘pdfname’ object, due to the fact that these names are
extracted from natural text, meaning sometimes non-name information
enters the name object. Furthermore, some of the older PDFs are scanned
versions of a printed dissertation, meaning there may be errors when
these images are converted to text.</p>
<p>In the provided dataframe, we only included more straightforward name
examples. So, the code below is not directly applicable to our example
case, but still shows how we cleaned some of the messier names.</p>
<pre class="r test"><code># remove diacritics
phd_metadf$pdfname &lt;- stri_trans_general(phd_metadf$pdfname, &#39;latin-ascii&#39;)

# remove punctuation
phd_metadf$pdfname &lt;- str_remove_all(phd_metadf$pdfname, &quot;[~!@#\\$%\\^\\&amp;\\*\\(\\)\\{\\}\\_\\+:&lt;&gt;\\?\\/;\\&#39;\\[\\]\\=\\,\\•\\.]&quot;)

# remove digits
phd_metadf$pdfname &lt;- str_remove_all(phd_metadf$pdfname,  &quot;[:digit:]&quot;)

# remove copyright indications
phd_metadf$pdfname &lt;- str_remove_all(phd_metadf$pdfname,  &quot;copyright&quot;)
phd_metadf$pdfname &lt;- str_remove_all(phd_metadf$pdfname,  &quot;(C)&quot;)
phd_metadf$pdfname &lt;- gsub(&quot;\\sall rights.*&quot;, &quot;&quot;, phd_metadf$pdfname)

phd_metadf$pdfname &lt;- trimws(phd_metadf$pdfname, which = &quot;both&quot;)

# removing titles from the name
phd_metadf$pdfname &lt;- gsub(&quot;master.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\smsc.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\smd.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\smagister.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\smagistri.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sbachelor.*&quot;, &quot;&quot;,phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\slaurea.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\smestre.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sdottore.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\supm.*&quot;, &quot;&quot;, phd_metadf$pdfname) # specific UM press thing
phd_metadf$pdfname &lt;- gsub(&quot;\\sp\\su\\sm.*&quot;, &quot;&quot;, phd_metadf$pdfname) # specific UM press thing
phd_metadf$pdfname &lt;- gsub(&quot;\\sdipl.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sdiplom.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sdiploma.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\slicen.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\shbo.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\shts.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sdoctorandus.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\scandidat.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\ssarjana.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sspecialist.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\suniver.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\sengineer.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singeniero.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singiner.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singeniera.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singenieria.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singegnere.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singegneria.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\singenieur.*&quot;, &quot;&quot;, phd_metadf$pdfname)
phd_metadf$pdfname &lt;- gsub(&quot;\\s[[:alpha:]\\-]*ingenieur.*&quot;, &quot;&quot;, phd_metadf$pdfname) # ingenieur and everything that is attached before

# specific types of engineering titles
engineeringtitles &lt;- c(&quot;ele(c|k)trotechnisch.*&quot;, &quot;civiel.*&quot;, &quot;(land)?(werktuig)?(scheeps)?(mijn)?bouwkundig.*&quot;, &quot;(wis)?(natuur)?(schei)?(werktuig)?(materiaal)?(bestuurs)?kundig.*&quot;, &quot;informatica.*&quot;, &quot;geodetisch.*&quot;, &quot;lucht- en ruimtevaart technisch.*&quot;, &quot;chemisch.*&quot;, &quot;maritiem.*&quot;, &quot;bioinformatica.*&quot;, &quot;raadgevend.*&quot;, &quot;architect.*&quot;, &quot;geologisch.*&quot;, &quot;geofysisch.*&quot;, &quot;meet- en regeltechnisch&quot;)

phd_metadf$pdfname &lt;- str_remove(phd_metadf$pdfname, paste0(engineeringtitles, collapse = &quot;|&quot;))

phd_metadf$pdfname &lt;- trimws(phd_metadf$pdfname, which = &quot;both&quot;)</code></pre>
<p>Some dissertations have multiple authors. We only want the first
author, so remove everything after “;”</p>
<pre class="r test"><code>phd_metadf$pdfnamep1 &lt;- gsub(&quot;;.*&quot;, &quot;&quot;, phd_metadf$pdfnamep1)</code></pre>
</div>
<div id="first-names-from-pdfnamep1" class="section level2"
number="8.2">
<h2><span class="header-section-number">8.2</span> First names from
<code>pdfnamep1</code></h2>
<p>The object <code>pdfnamep1</code> contains all names in a
standardized format. The format is: “last name, first name(s)”. To
extract first names, we look at everything that follows the comma.</p>
<pre class="r test"><code>phd_metadf$com &lt;- str_detect(phd_metadf$pdfnamep1, &quot;,&quot;) # detect comma

# Keep everything after a comma if there is one
phd_metadf &lt;- phd_metadf %&gt;%
  mutate(firstnamepdf = ifelse((com==TRUE), str_remove(pdfnamep1, &quot;.*,&quot;), pdfnamep1)) %&gt;%
  select(-com)</code></pre>
</div>
<div id="cleaning-the-first-names-1" class="section level2"
number="8.3">
<h2><span class="header-section-number">8.3</span> Cleaning the first
names</h2>
<p>Removing nobiliary particles, initials amd punctuation.</p>
<pre class="r test"><code># removing all nobiliary particles
phd_metadf$firstnamepdf &lt;- str_remove(phd_metadf$firstnamepdf, paste0(vande0, collapse=&quot;|&quot;))
phd_metadf$firstnamepdf &lt;- str_replace_all(phd_metadf$firstnamepdf, paste(vande1, collapse = &quot;|&quot;), &quot;&quot;)
phd_metadf$firstnamepdf &lt;- str_remove_all(phd_metadf$firstnamepdf, paste(vande2, collapse = &quot;|&quot;))
phd_metadf$firstnamepdf &lt;- str_replace_all(phd_metadf$firstnamepdf, paste(vande3, collapse = &quot;|&quot;), &quot;&quot;)
phd_metadf$firstnamepdf &lt;- str_remove(phd_metadf$firstnamepdf, paste(vande4, collapse = &quot;|&quot;))

phd_metadf$firstnamepdf &lt;- trimws(phd_metadf$firstnamepdf, which = &quot;both&quot;) # trimming whitespace

phd_metadf$firstnamepdf &lt;- str_remove_all(phd_metadf$firstnamepdf, initialpattern) # object initialpattern defined in section 1

# extracting only the first-mentioned first name and removing punctuation marks
phd_metadf$firstnamepdf &lt;- str_extract(phd_metadf$firstnamepdf, &quot;[a-z]+\\-*[a-z]*&quot;)


phd_metadf &lt;- phd_metadf %&gt;%
  mutate(firstnamepdf = ifelse((firstnamepdf == &quot;^\\s$&quot; | firstnamepdf == &quot;&quot;) ,NA, firstnamepdf)) # empty to NA

phd_metadf$firstnamepdf &lt;- ifelse(nchar(phd_metadf$firstnamepdf)==1, NA, phd_metadf$firstnamepdf) # remove erroneous one-character names</code></pre>
</div>
<div id="adding-first-names-from-pdfname" class="section level2"
number="8.4">
<h2><span class="header-section-number">8.4</span> Adding first names
from <code>pdfname</code></h2>
<p>Because names from the <code>pdfname</code> object are not as neat as
names from <code>pdfnamep1</code>, we give priority to the latter.</p>
<p>The format of the <code>pdfname</code> object is “first name(s) last
name”. So, we extract the first word from this object to gather the
first name. Some names contain a large number of whitespaces (e.g. “m a
t t h e w j o h n s o n” or “m atthew j ohnson”). The former case, we
currently do not extract.</p>
<pre class="r test"><code># A few names have a couple of added spaces, often following the first letter of a name. Remove this space after the first letter

phd_metadf$spaces &lt;- as.numeric(str_detect(phd_metadf$pdfname, &quot;^\\s?[:alpha:]\\s[:alpha:]{2,}&quot;)) # detect a single letter, followed by a space, followed by more than 1 letter

phd_metadf$spaces &lt;- ifelse(is.na(phd_metadf$spaces), 0, phd_metadf$spaces) # replace NA with 0

phd_metadf$pdfname &lt;- ifelse(phd_metadf$spaces==1, str_remove(phd_metadf$pdfname, &quot;\\s&quot;), phd_metadf$pdfname) # remove the first space if a name follows the pattern described above

phd_metadf$firstnamepdf2 &lt;- str_extract(phd_metadf$pdfname, &quot;[a-z]+\\-*[a-z]*&quot;)



# Now, we fill the firstname object with the first word in &#39;pdfname&#39;, but only if firstname based on &#39;pdfnamep1&#39; is missing
phd_metadf$firstnamepdf &lt;- ifelse(is.na(phd_metadf$firstnamepdf), phd_metadf$firstnamepdf2, phd_metadf$firstnamepdf)


# Again, we remove spaces and one-character names
phd_metadf$firstnamepdf &lt;- str_remove_all(phd_metadf$firstnamepdf, &quot;\\s&quot;) # remove spaces
phd_metadf$firstnamepdf &lt;- ifelse(nchar(phd_metadf$firstnamepdf)==1, NA, phd_metadf$firstnamepdf) # remove erroneous one-character names


# Remove unknown characters
phd_metadf$firstnamepdf &lt;- str_extract(phd_metadf$firstnamepdf, &quot;[a-z]+\\-*[a-z]*&quot;)


phd_metadf &lt;- subset(phd_metadf, select = -firstnamepdf2) # remove intermediate object</code></pre>
</div>
</div>
<div id="gathering-last-names-from-the-dissertation-pdfs"
class="section level1" number="9">
<h1><span class="header-section-number">9</span> 6: Gathering last names
from the dissertation PDFs</h1>
<p>There is a <em>very</em> small number of individuals for whom the
last name is unknown. To fill this, we use the name object from the
dissertation data. Given the formatting of names in this object as
“first name(s) last name(s)”, we just take the last word of the string,
and then add potential nobiliary particles that are mentioned in the
middle of the string.</p>
<pre class="r test"><code>phd_metadf$lastnamepdf &lt;- word(phd_metadf$pdfname, -1)

# extracting nobiliary particles
phd_metadf$np2 &lt;- str_extract(phd_metadf$pdfname, paste0(vande0, collapse=&quot;|&quot;)) # nobiliary particles that cannot be part of the name
phd_metadf$np2 &lt;- ifelse(is.na(phd_metadf$np2), str_extract(phd_metadf$pdfname, paste0(vande1, collapse=&quot;|&quot;)), phd_metadf$np2) # nobiliary particles surrounded with whitespaces

# Combining nobiliary particle and last name
phd_metadf %&gt;%
  mutate(lastname_full_pdf = ifelse(!is.na(np2), paste(np2, lastnamepdf), lastnamepdf)) -&gt; phd_metadf

phd_metadf$lastnamepdf &lt;- ifelse(nchar(phd_metadf$lastnamepdf)==1, NA, phd_metadf$lastnamepdf) # remove erroneous one-character names</code></pre>
</div>
<div id="harmonizing-names-from-narcis-pages-and-dissertation-text"
class="section level1" number="10">
<h1><span class="header-section-number">10</span> 7: Harmonizing names
from NARCIS pages and dissertation text</h1>
<p>Next, we harmonize the names we now have based on NARCIS pages
(personal and dissertation page), with names gathered from dissertation
PDF text. We give priority to names from NARCIS pages, because they
contain less noise than names from the dissertation text.</p>
<pre class="r test"><code>phd_metadf$firstname &lt;- ifelse(is.na(phd_metadf$firstname), phd_metadf$firstnamepdf, phd_metadf$firstname)


phd_metadf$lastname &lt;- ifelse(is.na(phd_metadf$lastname), phd_metadf$lastnamepdf, phd_metadf$lastname)</code></pre>
</div>
<div id="view-of-the-dataframe-with-cleaned-last-names"
class="section level1" number="11">
<h1><span class="header-section-number">11</span> View of the dataframe
with cleaned last names</h1>
<p>After all of this cleaning, we now have a dataframe that contains a
cleaned first name and last name (with nobiliary particles if present).
This dataframe is used as input for our gender and ethnicity
variables.</p>
<pre class="r test"><code>phd_metadf[,c(8,1,2,3,4,9,11,10,12,5,6,7)]</code></pre>
<pre class="test2"><code>#&gt;   id                  auteur                       narcisname                        pdfname
#&gt; 1  a     Verschuuren, J-W.M.               J.W.M. Verschuuren jan-willem marinus verschuuren
#&gt; 2  b Janssen-de Jong, Corine Prof. Dr. C.W.P. Janssen-de Jong                               
#&gt; 3  c            Vries, J. de                     de Vries, J.                   jan de vries
#&gt; 4  d         van Vliet, M.A.     Dr. M.A. (Monique) van Vliet                               
#&gt; 5  e               Aydin, S.                         Aydin, S                    selim aydin
#&gt; 6  f     Karimi, Nahid Fouad                N.F. Karimi (MSc)                               
#&gt; 7  g            Bernard, J.O         Bernard, Jacques Olivier                jacques bernard
#&gt; 8  h   L.C. Schneider (Lena)                    Schneider, LC                               
#&gt;                         pdfnamep1  firstname   np    lastname lastname_full
#&gt; 1 verschuuren, jan-willem marinus jan-willem &lt;NA&gt; verschuuren   verschuuren
#&gt; 2              de jong, c. w. p.      corine &lt;NA&gt;     janssen       janssen
#&gt; 3                                        jan   de       vries      de vries
#&gt; 4              vliet, monique van    monique  van       vliet     van vliet
#&gt; 5                    aydin, selim      selim &lt;NA&gt;       aydin         aydin
#&gt; 6                                      nahid &lt;NA&gt;      karimi        karimi
#&gt; 7                bernard, jacques    jacques &lt;NA&gt;     bernard       bernard
#&gt; 8        schneider, lena carolina       lena &lt;NA&gt;   schneider     schneider
#&gt;               diss_birthplace uni phd_year
#&gt; 1    geboren te &#39;s-gravenhage UvA     2013
#&gt; 2                             RUG     1998
#&gt; 3     geboren te oldenzaal in EUR     2004
#&gt; 4                             TUE     2006
#&gt; 5 geboren te giresun, turkije  RU     2017
#&gt; 6                              LU     2012
#&gt; 7          quimper, frankrijk  UU     2019
#&gt; 8                             WUR     2000</code></pre>
<hr />
</div>
<div id="output" class="section level1" number="12">
<h1><span class="header-section-number">12</span> Output</h1>
<p>We save the dataset phd_metadf including the cleaned first and last
names, with the duplicate observations removed.</p>
<pre class="r test"><code>phd_metadf %&gt;%
  select(id, firstname, np, lastname, lastname_full, diss_birthplace, uni, phd_year) -&gt; phdnames

save(phdnames, file = &quot;data/processed/phdnames.rda&quot;)</code></pre>
<hr />
</div>
<div id="references" class="section level1" number="13">
<h1><span class="header-section-number">13</span> References</h1>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkFjYWRlbWljIHB1Ymxpc2hpbmcgY2FyZWVycyBpbiBOTDogZ2F0aGVyaW5nIG5hbWVzIg0KZGF0ZTogIkxhc3QgY29tcGlsZWQgb24gYHIgZm9ybWF0KFN5cy50aW1lKCksICclQiwgJVknKWAiDQpvdXRwdXQ6IA0KICBodG1sX2RvY3VtZW50Og0KICAgIGNzczogdHdlYWtzLmNzcw0KICAgIHRvYzogIHRydWUNCiAgICB0b2NfZmxvYXQ6IHRydWUNCiAgICBudW1iZXJfc2VjdGlvbnM6IHRydWUNCiAgICBjb2RlX2ZvbGRpbmc6IHNob3cNCiAgICBjb2RlX2Rvd25sb2FkOiB5ZXMNCiAgICANCi0tLQ0KDQpgYGB7ciwgZ2xvYmFsc2V0dGluZ3MsIGVjaG89RkFMU0UsIHdhcm5pbmc9RkFMU0V9DQoNCmxpYnJhcnkoa25pdHIpDQpsaWJyYXJ5KGZvcm1hdFIpDQpvcHRzX2NodW5rJHNldCh0aWR5Lm9wdHM9bGlzdCh3aWR0aC5jdXRvZmY9MTAwKSx0aWR5PUZBTFNFLCB3YXJuaW5nID0gRkFMU0UsIG1lc3NhZ2UgPSBGQUxTRSxjb21tZW50ID0gIiM+IiwgY2FjaGU9VFJVRSwgY2xhc3Muc291cmNlPWMoInRlc3QiKSwgY2xhc3Mub3V0cHV0PWMoInRlc3QyIiksIGNhY2hlLmxhenkgPSBGQUxTRSkNCm9wdGlvbnMod2lkdGggPSAxMDApDQpyZ2w6OnNldHVwS25pdHIoKQ0KDQpjb2xvcml6ZSA8LSBmdW5jdGlvbih4LCBjb2xvcikge3NwcmludGYoIjxzcGFuIHN0eWxlPSdjb2xvcjogJXM7Jz4lczwvc3Bhbj4iLCBjb2xvciwgeCkgfQ0KDQpgYGANCg0KYGBge3Iga2xpcHB5LCBlY2hvPUZBTFNFLCBpbmNsdWRlPVRSVUV9DQoNCmtsaXBweTo6a2xpcHB5KHBvc2l0aW9uID0gYygndG9wJywgJ3JpZ2h0JykpDQoNCmBgYA0KDQoNCg0KDQotLS0tDQoNCg0KVGhpcyBsYWIgam91cm5hbCBzaG93cyB0aGUgZXh0cmFjdGlvbiBhbmQgY2xlYW5pbmcgb2YgZmlyc3QgYW5kIGxhc3QgbmFtZXMgb2YgZG9jdG9yYWwgcmVjaXBpZW50cyBvbiBhIG1vY2sgZGF0YSBzZXQuIA0KDQoNCi0tLS0NCg0KU3RhcnRpbmcgd2l0aCBhbiBlbXB0eSBlbnZpcm9ubWVudC4NCg0KYGBge3J9DQoNCnJtKGxpc3QgPSBscygpKQ0KDQpgYGANCg0KDQoNCg0KIyBDdXN0b20gZnVuY3Rpb25zDQoNCi0gYHBhY2FnZS5jaGVja2A6IENoZWNrIGlmIHBhY2thZ2VzIGFyZSBpbnN0YWxsZWQgKGFuZCBpbnN0YWxsIGlmIG5vdCkgaW4gUiAoW3NvdXJjZV0oaHR0cHM6Ly92YmFsaWdhLmdpdGh1Yi5pby92ZXJpZnktdGhhdC1yLXBhY2thZ2VzLWFyZS1pbnN0YWxsZWQtYW5kLWxvYWRlZC8pKS4gIA0KDQoNCmBgYHtyLCByZXN1bHRzPSdoaWRlJ30NCmZwYWNrYWdlLmNoZWNrIDwtIGZ1bmN0aW9uKHBhY2thZ2VzKSB7DQogIGxhcHBseShwYWNrYWdlcywgRlVOID0gZnVuY3Rpb24oeCkgew0KICAgIGlmICghcmVxdWlyZSh4LCBjaGFyYWN0ZXIub25seSA9IFRSVUUpKSB7DQogICAgICBpbnN0YWxsLnBhY2thZ2VzKHgsIGRlcGVuZGVuY2llcyA9IFRSVUUpDQogICAgICBsaWJyYXJ5KHgsIGNoYXJhY3Rlci5vbmx5ID0gVFJVRSkNCiAgICB9DQogIH0pDQp9DQpgYGANCg0KLS0tICANCg0KIyBQYWNrYWdlcw0KDQoNCi0gYHN0cmluZ3JgOiB0byBleGVjdXRlIHZhcmlvdXMgc3RyaW5nIG1hbmlwdWxhdGlvbnMNCi0gYHN0cmluZ2lgOiB0byByZW1vdmUgZGlhY3JpdGljcw0KDQpgYGB7ciwgcmVzdWx0cz0naGlkZSd9DQpwYWNrYWdlcyA9IGMoInRpZHl2ZXJzZSIsICJzdHJpbmdyIiwgInN0cmluZ2kiLCAiZm9ybWF0UiIpDQoNCmZwYWNrYWdlLmNoZWNrKHBhY2thZ2VzKQ0KDQpgYGANCg0KLS0tIA0KDQoNCiMgSW5wdXQNCg0KDQpgYGB7ciBkYXRhc2V0cywgY2FjaGU9RkFMU0V9DQoNCmxvYWQoZmlsZSA9ICIuL2RhdGEvcGhkX21ldGFkZi5yZGEiKQ0KDQpgYGANCg0KDQpUaGlzIGxhYiBqb3VybmFsIGlzIHVzZWQgdG8gZGVtb25zdHJhdGUgaG93IHdlIGV4dHJhY3QgZmlyc3QgYW5kIGxhc3QgbmFtZXMgZnJvbSBQaERzLiANCg0KRm9yIHRoaXMsIHdlIHVzZSBhbiBleGFtcGxlIGRhdGFmcmFtZSBjb250YWluaW5nIDggb2JzZXJ2YXRpb25zICg0IGV0aG5pYyBtYWpvcml0eSBuYW1lcywgMiBldGhuaWMgbWlub3JpdHkgbmFtZXMsIDIgb3RoZXIgbmFtZXMgLSBhbGwgc3BsaXQgZXF1YWxseSBiZXR3ZWVuIG1hbGUtIGFuZCBmZW1hbGUtdHlwZWQgZmlyc3QgbmFtZXMpLiBUaGlzIG1vY2sgZGF0YWZyYW1lIG1pcnJvcnMgdGhlIHNldC11cCBvZiBvdXIgd2ViLXNjcmFwZWQgZGF0YSwgd2hpY2ggY29uc2lzdHMgb2YgbmFtZSBpbmZvcm1hdGlvbiB3aGljaCBhcmUgd2ViIHNjcmFwZWQgZnJvbSBkaWZmZXJlbnQgc291cmNlcy4gDQoNCiogMSBhdXRldXI6IHRoZSAnYXV0aG9yJyBjb2x1bW4gb24gTkFSQ0lTIGRpc3NlcnRhdGlvbiBwYWdlcw0KKiAyIG5hcmNpc25hbWU6IGZ1bGwgbmFtZSB0aGF0IGlzIG1lbnRpb25lZCBhdCB0aGUgdG9wIG9mIHBlcnNvbmFsIE5BUkNJUyBwYWdlcw0KKiAzIHBkZm5hbWUgYW5kIHBkZm5hbWVwMTogZnVsbCBuYW1lcyBtZW50aW9uZWQgaW4gdGhlIHJ1bm5pbmcgdGV4dCBvZiBkaXNzZXJ0YXRpb24gUERGLCBhbmQgb24gY292ZXIgcGFnZXMgb2YgdGhlIGRpc3NlcnRhdGlvbiBwcm92aWRlZCBieSBhIHN1YnNldCBvZiB1bml2ZXJzaXRpZXMsIHJlc3BlY3RpdmVseS4NCg0KDQpCZWxvdyB5b3UgY2FuIHNlZSB0aGUgZXhhbXBsZSBkYXRhLCANCg0KDQpgYGB7cn0NCg0KcGhkX21ldGFkZg0KDQpgYGANCg0KDQoNCi0tLSAgDQoNCg0KDQojIDE6IEdhdGhlcmluZyBmaXJzdCBuYW1lcyBmcm9tICdhdXRldXInKEF1dGhvcikgb24gTkFSQ0lTIGRpc3NlcnRhdGlvbiBwYWdlcw0KDQoNClNvbWUgZGlzc2VydGF0aW9ucyBhcHBlYXIgdG8gaGF2ZSBtdWx0aXBsZSBhdXRob3JzLiBXZSBvbmx5IHdhbnQgdGhlIGZpcnN0IGF1dGhvciwgc28gcmVtb3ZlIGV2ZXJ5dGhpbmcgYWZ0ZXIgIjsiDQpgYGB7ciBtdWx0aXBsZS1hdXRob3JzfQ0KDQpwaGRfbWV0YWRmJGF1dGV1ciA8LSBnc3ViKCI7LioiLCAiIiwgcGhkX21ldGFkZiRhdXRldXIpDQoNCmBgYA0KDQoNCiMjIEZpcnN0IG5hbWVzIGluIGJyYWNrZXRzDQpgYGB7ciBicmFja2V0bmFtZXN9DQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJGF1dGV1ciwgIig/PD1cXCgpLiooPz1cXCkpIikNCg0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gaWZlbHNlKHBoZF9tZXRhZGYkZmlyc3RuYW1lID09ICIiLCBOQSwgcGhkX21ldGFkZiRmaXJzdG5hbWUpDQoNCmBgYA0KDQoNCiMjIEZpcnN0IG5hbWVzIGFmdGVyIGEgY29tbWENCg0KYGBge3IgY29tbWFuYW1lc30NCg0KcGhkX21ldGFkZiRjb20gPC0gc3RyX2RldGVjdChwaGRfbWV0YWRmJGF1dGV1ciwgIiwiKSAjIGRldGVjdCBjb21tYQ0KDQojIEtlZXAgZXZlcnl0aGluZyBhZnRlciBhIGNvbW1hIGlmIHRoZXJlIGlzIG9uZQ0KcGhkX21ldGFkZiA8LSBwaGRfbWV0YWRmICU+JQ0KICBtdXRhdGUoZmlyc3RuYW1lID0gaWZlbHNlKChpcy5uYShmaXJzdG5hbWUpICYgY29tPT1UUlVFKSwgc3RyX3JlbW92ZShhdXRldXIsICIuKiwiKSwgZmlyc3RuYW1lKSkgJT4lIHNlbGVjdCgtY29tKQ0KDQpgYGANCg0KYGBge3IgdHJpbXdzfQ0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gdHJpbXdzKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCB3aGljaCA9IGMoImJvdGgiKSwgd2hpdGVzcGFjZSA9ICJbIFx0XHJcbl0iKQ0KYGBgDQoNCg0KIyMgQ2xlYW5pbmcgdGhlIGZpcnN0IG5hbWVzDQoNCk1hbnkgbGFzdCBuYW1lcyBpbmNsdWRlIHNvLWNhbGxlZCAnbm9iaWxpYXJ5IHBhcnRpY2xlcycuIFRoZXNlIGFyZSBhZGRpdGlvbnMgdG8gdGhlIGxhc3QgbmFtZSAoZS5nLiAidmFuIGRlIiBpbiBEdXRjaCwgImRlIGxhIiBpbiBGcmVuY2ggb3IgInp1IiBpbiBHZXJtYW4pLiBJbiBvcmRlciB0byBleHRyYWN0IHRoZSBmaXJzdCBuYW1lcyB3ZSBkZXRlY3QgYW5kIHJlbW92ZSB0aGVzZS4gTm9iaWxpYXJ5IHBhcnRpY2xlcyBoYXZlIGNyZXB0IGludG8gZmlyc3QgbmFtZSB3aGVuIGdhdGhlcmluZyBldmVyeXRoaW5nIGFmdGVyIGEgY29tbWEsIGZvciBleGFtcGxlIHdoZW4gbmFtZXMgYXJlIGluIHRoZSBmb3JtYXQgb2YgIlZyaWVzLCBKYW4gZGUiLiBUaGUgbm9iaWxpYXJ5IHBhcnRpY2xlcyBhcmUgYWxzbyBpbXBvcnRhbnQgdG8gc2VwYXJhdGUgZnJvbSB0aGUgcmVzdCBvZiB0aGUgbGFzdCBuYW1lIHRvIGNyZWF0ZSBtYXRjaGFibGUgbGFzdCBuYW1lcyBsYXRlci4gDQoNCg0KDQpgYGB7ciBjbGVhbmluZy12YW5kZX0NCg0KIyBSZW1vdmluZyBhbGwgbm9iaWxpYXJ5IHBhcnRpY2xlcyB0aGF0IGNvbnNpc3Qgb2YgbXVsdGlwbGUgd29yZHMNCnZhbmRlMCA8LSBjKCIoVnx2KWFuIChEfGQpZXIiLCAiKFZ8dilhbiAoRHxkKWVuIiwgIihWfHYpYW4gKER8ZCllIiwgIihWfHYpYW5kZShuKT8iLCAiKFZ8dilhbiAnKFR8dCkiLCAiKFZ8dilhbicoVHx0KSIsICIoVnx2KWFuIChUfHQpIiwgIihWfHYpYW4gKEh8aClldCIsICIoVnx2KW9uIChEfGQpZXIiLCAiKE98bylwIGRlbiIsICIoT3xvKXAgJ3QiLCAiKE98bylmIHRlbiIsICIoQXxhKWFuIGRlKG4pPyIsICIoRHxkKWUgKEx8bClhIiwgIihJfGkpbiAoSHxoKWV0IiwgIihJfGkpbiAnKFR8dCkiLCAiKEl8aSluJyhUfHQpIiwiKEl8aSluIChUfHQpIiwgIihJfGkpbiAoRHxkKWVyIiwgIihCfGIpaWogKER8ZCllIikgDQoNCg0KIyBTb21lIG9mIHRoZSBub2JpbGlhcnkgcGFydGljbGVzIGNhbiBhY3R1YWxseSBiZSBwYXJ0IG9mIHRoZSBmaXJzdCBuYW1lLCBlLmcuICJBbCIgaW4gdGhlIG5hbWUgIkFsaWNlIi4gVGhlc2UgcmVxdWlyZSBzb21lIG1vcmUgY2FyZSB0byByZW1vdmU6IG9ubHkgcmVtb3ZlIHRoZXNlIHdoZW4gc3Vycm91bmRlZCBieSB3aGl0ZXNwYWNlcyBvciB3aGVuIHRoZXkgdGFrZSB1cCB0aGUgZW50aXJlIG5hbWUuICANCg0KIyBXaGl0ZXNwYWNlcyBhcm91bmQgdmFuL2RlDQp2YW5kZTEgPC0gYygiXFxzKEx8bClhXFxzIiwgIlxccyhPfG8pcFxccyIgLCJcXHMoVnx2KWFuXFxzIiwgIlxccyhWfHYpb25cXHMiLCAiXFxzKER8ZCllblxccyIsICJcXHMoRHxkKWVyXFxzIiwgIlxccyhEfGQpZWxcXHMiLCAiXFxzKER8ZCkoZXxhfHV8aSlcXHMiLCAiXFxzKER8ZClvcz9cXHMiLCAiXFxzKFR8dCllclxccyIsICJcXHMoVHx0KWVuXFxzIiwgIlxccyhUfHQpZVxccyIsICJcXHMnKFR8dClcXHMiLCAiXFxzKEx8bCllXFxzIiwgIlxccyhFfEEpbC0iLCAiXFxzWyhBfGEpKEV8ZSldKEx8bCknP1xccyIsICJcXHMoRHxkKSciLCAiXFxzenVcXHMiLCAiXFxzKFp8eil1clxccyIsICJcXHMoWXx5KVxccyIsICJcXHMoRXxlKVxccyIpIA0KDQoNCiMgRW50aXJlIHN0cmluZyBjb25zaXN0cyBvZiB2YW4vZGUNCnZhbmRlMiA8LSBjKCJeKEx8bClhJCIsICJeKE98bylwJCIgLCAiXihWfHYpYW4kIiwgIl4oVnx2KW9uJCIsICJeKER8ZCllbiQiLCAiXihEfGQpZXIkIiwgIl4oRHxkKWVsJCIsICJeKER8ZCkoZXxhfHV8aSkkIiwgIl4oRHxkKW9zPyQiLCAiXlZhbmRlWyQvL3NdIiwgIl4oVHx0KWVyJCIsICAiXihUfHQpZW4kIiwgIl4oVHx0KWUkIiwgIl4nKFR8dCkkIiwgIl4oTHxsKWUkIiwgIl5bKEF8YSkoRXxlKV0oTHxsKSc/JCIsICJeKER8ZCknJCIsICJeenUkIiwgIl4oWnx6KXVyJCIpDQoNCg0KIyBTdHJpbmcgc3RhcnRzIHdpdGggdmFuL2RlIGZvbGxvd2VkIGJ5IGEgd2hpdGVzcGFjZQ0KdmFuZGUzIDwtIGMoIl4oTHxsKWFcXHMiLCAiXihPfG8pcFxccyIgLCJeKFZ8dilhblxccyIsICJeKFZ8dilvblxccyIsICJeKER8ZCllblxccyIsICJeKER8ZCllclxccyIsICJeKER8ZCllbFxccyIsICJeKER8ZCkoZXxhfHV8aSlcXHMiLCAiXihEfGQpb3M/XFxzIiwgIl4oVHx0KWVyXFxzIiAsICJeKFR8dCllblxccyIsICJeKFR8dCllXFxzIiwgIl4nKFR8dClcXHMiLCAiXihMfGwpZVxccyIsICJeRWwtIiwgIl5bKEF8YSkoRXxlKV0oTHxsKSc/XFxzIiwgIl4oRHxkKSciLCAiXnp1XFxzIiwgIl4oWnx6KXVyXFxzIiwgIl5lXFxzIikNCg0KDQojIFN0cmluZyBlbmRzIHdpdGggdmFuL2RlDQp2YW5kZTQgPC0gYygiXFxzKEx8bClhJCIsICJcXHMoT3xvKXAkIiAsIlxccyhWfHYpYW4kIiwgIlxccyhWfHYpb24kIiwgIlxccyhEfGQpZW4kIiwgIlxccyhEfGQpZXIkIiwgIlxccyhEfGQpZWwkIiwgIlxccyhEfGQpKGV8YXx1fGkpJCIsICJcXHMoRHxkKW9zPyQiLCAiXFxzKFR8dCllciQiLCAiXFxzKFR8dCllbiQiLCAiXFxzKFR8dCllJCIsICJcXHMnKFR8dCkkIiwgIlxccyhMfGwpZSQiLCAiXFxzWyhBfGEpKEV8ZSldKEx8bCknPyQiLCAiXFxzKER8ZCknJCIsICJcXHN6dSQiLCAiXFxzKFp8eil1ciQiKQ0KDQoNCg0KIyByZW1vdmUgdGhlIG5vYmlsaWFyeSBwYXJ0aWNsZXMgaW4gZGlmZmVyZW50IGZvcm1zDQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSBzdHJfcmVtb3ZlKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCBwYXN0ZTAodmFuZGUwLCBjb2xsYXBzZT0ifCIpKQ0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gc3RyX3JlcGxhY2VfYWxsKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCBwYXN0ZSh2YW5kZTEsIGNvbGxhcHNlID0gInwiKSwgIiIpDQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJGZpcnN0bmFtZSwgcGFzdGUodmFuZGUyLCBjb2xsYXBzZSA9ICJ8IikpDQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSBzdHJfcmVwbGFjZV9hbGwocGhkX21ldGFkZiRmaXJzdG5hbWUsIHBhc3RlKHZhbmRlMywgY29sbGFwc2UgPSAifCIpLCAiIikNCnBoZF9tZXRhZGYkZmlyc3RuYW1lIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRmaXJzdG5hbWUsIHBhc3RlKHZhbmRlNCwgY29sbGFwc2UgPSAifCIpKQ0KDQoNCmBgYA0KDQoNCg0KIyMjIFJlbW92aW5nIGluaXRpYWxzIGFmdGVyIHRoZSBjb21tYSBpbiBhdXRldXIgIA0KDQpTaW5jZSB3ZSBleHRyYWN0ZWQgZXZlcnl0aGluZyBhZnRlciB0aGUgY29tbWEsIHNvbWUgb2YgdGhlIGZpcnN0IG5hbWVzIGNvbnRhaW4gaW5pdGlhbHMsIGUuZy46ICJTbWl0aCwgQS5CLkMuIi4gV2UgcmVtb3ZlIHRoZXNlLiANCg0KDQpgYGB7ciBleHRyYWN0LWluaXRpYWxzLWFmdGVyLWNvbW1hfQ0KDQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSB0cmltd3MocGhkX21ldGFkZiRmaXJzdG5hbWUsIHdoaWNoID0gImJvdGgiKQ0KDQoNCiMgVGhlcmUgYXJlIG11bHRpcGxlIHBhdHRlcm5zLCBhbmQgd2Ugd2FudCB0byBleHRyYWN0IGFsbCBwb3NzaWJsZSBmb3JtcyBvZiBpbml0aWFscyBpbnRvIG91ciBvYmplY3QNCg0KaW5pdGlhbHBhdHRlcm4gPC0gcGFzdGUoYygiXlxccz8oWzp1cHBlcjpdXFwuKStbOnVwcGVyOl1cXHM/JCIsICAgIyBBLkEuQSAobGFzdCBpbml0aWFsIGRvZXMgbm90IGNvbnRhaW4gYSBwZXJpb2QgYXQgdGhlIGVuZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIihbOnVwcGVyOl1cXC4/XFwtXFwuPykrIiwgICAgICAgICAgICAgICAgICAjIEEtIG9yIEEtLiBvciBBLi0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgIihbOnVwcGVyOl1cXC4rKSsiLCAiKFs6bG93ZXI6XVxcLil7Mix9IiwgICAjIEEuICBvciBhLg0KICAgICAgICAgICAgICAgICAgICAgICAgICAiKFR8dHxDfGN8UHxwKWhcXC5cXHM/IiwgICAgICAgICAgICAgICAgICAgICMgVGguIFBoLiBDaC4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICJeXFxzPyhbOmFscGhhOl1cXHMpKyIsICAgICAgICAgICAgICAgICAgICAgIyBBIG9yIGEgc3Vycm91bmRlZCBieSB3aGl0ZXNwYWNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICJeXFxzP1s6YWxwaGE6XVxcLj9cXHM/JCIsICAgICAgICAgICAgICAgICAgIyBlbnRpcmUgc3RyaW5nIGNvbnNpc3RzIG9mIGEgc2luZ2xlIGxldHRlcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAiXlxccz9bOnVwcGVyOl17Miw0fVxccz8kIiksICAgICAgICAgICAgICAgICMgZW50aXJlIHN0cmluZyBjb25zaXN0cyBvZiAyLTQgY2FwaXRhbCBsZXR0ZXJzDQogICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZSA9ICJ8IikNCg0KDQpwaGRfbWV0YWRmJGluaXRpYWxzMiA8LSBhcy5jaGFyYWN0ZXIoKHN0cl9leHRyYWN0X2FsbChwaGRfbWV0YWRmJGZpcnN0bmFtZSwgaW5pdGlhbHBhdHRlcm4pKSkNCg0KDQojIElmIHRoZXJlIHdlcmUgbXVsdGlwbGUgZGlmZmVyZW50IHBhdHRlcm5zIHByZXNlbnQgaW4gdGhlIGluaXRpYWxzLCB0aGV5IHdlcmUgY29tYmluZWQgaW4gYSBjKCkgb2JqZWN0LiBSZW1vdmUgdGhlIHVubmVjZXNzYXJ5IHRleHQgaGVyZS4gDQpwaGRfbWV0YWRmJGluaXRpYWxzMiA8LSBnc3ViKCJjXFwoXCIiLCAiIiwgcGhkX21ldGFkZiRpbml0aWFsczIpDQpwaGRfbWV0YWRmJGluaXRpYWxzMiA8LSBnc3ViKCJcIiwgXCIiLCAiIiwgcGhkX21ldGFkZiRpbml0aWFsczIpDQpwaGRfbWV0YWRmJGluaXRpYWxzMiA8LSBnc3ViKCJcIlxcKSIsICIiLCBwaGRfbWV0YWRmJGluaXRpYWxzMikNCg0KDQpgYGANCg0KDQpJbiBvcmRlciB0byBleHRyYWN0IGZpcnN0IG5hbWVzLCB3ZSByZW1vdmUgdGhlIGluaXRpYWxzIGdhdGhlcmVkIGluIHRoZSBjaHVuayBhYm92ZS4NCg0KDQpgYGB7ciBleHRyYWN0LWZpcnN0LW5hbWVzfQ0KDQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSBzdHJfcmVtb3ZlKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCBwaGRfbWV0YWRmJGluaXRpYWxzMikNCg0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gdHJpbXdzKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCB3aGljaCA9ICJib3RoIikNCg0KcGhkX21ldGFkZiA8LSBzdWJzZXQocGhkX21ldGFkZiwgc2VsZWN0PS1pbml0aWFsczIpDQoNCmBgYA0KDQpGaW5hbCBjbGVhbmluZyBzdGVwcw0KDQpgYGB7cn0NCg0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gZ3N1YigiLy4qIiwgIiIsIHBoZF9tZXRhZGYkZmlyc3RuYW1lKSAjIFNvbWUgbmFtZXMgaW4gdGhlIGZvcm0gIkZsb29yL0Zsb3JpcyIuIFJlbW92ZSBldmVyeXRoaW5nIGFmdGVyICIvIg0KDQojIG1ha2UgdGhlIG5hbWVzIGxvd2VyY2FzZQ0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gdG9sb3dlcihwaGRfbWV0YWRmJGZpcnN0bmFtZSkNCg0KIyByZW1vdmUgZGlhY3JpdGljcw0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gc3RyaV90cmFuc19nZW5lcmFsKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCBpZCA9ICJsYXRpbi1hc2NpaSIpDQoNCiMgcmVtb3ZlIG5vbi1sZXR0ZXIgY2hhcmFjdGVycywgdGFraW5nIHRoZSBmaXJzdCBtZW50aW9uZWQgbmFtZQ0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gc3RyX2V4dHJhY3QocGhkX21ldGFkZiRmaXJzdG5hbWUsICJbYS16XStcXC0qW2Etel0qIikNCg0KIyByZW1vdmluZyB3aGl0ZSBzcGFjZXMgYXQgdGhlIGJlZ2lubmluZyBhbmQgYXQgdGhlIGVuZCBvZiB0aGUgbmFtZSBmaXJzdCBuYW1lIHN0cmluZw0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gdHJpbXdzKHBoZF9tZXRhZGYkZmlyc3RuYW1lLCB3aGljaCA9ICJib3RoIikNCg0KIyByZW1vdmluZyBub2JpbGlhcnkgcGFydGljbGVzIHdoaWNoIHNsaXBwZWQgdGhyb3VnaA0KcGhkX21ldGFkZiRmaXJzdG5hbWUgPC0gc3RyX3JlbW92ZV9hbGwocGhkX21ldGFkZiRmaXJzdG5hbWUsIHBhc3RlKHZhbmRlMiwgY29sbGFwc2UgPSAifCIpKQ0KDQpwaGRfbWV0YWRmIDwtIHBoZF9tZXRhZGYgJT4lDQogIG11dGF0ZShmaXJzdG5hbWUgPSBpZmVsc2UoKGZpcnN0bmFtZSA9PSAiXlxccyQiIHwgZmlyc3RuYW1lID09ICIiKSAsTkEsIGZpcnN0bmFtZSkpICMgZW1wdHkgc3RyaW5nIHRvIE5BDQoNCnBoZF9tZXRhZGYkZmlyc3RuYW1lIDwtIGlmZWxzZShuY2hhcihwaGRfbWV0YWRmJGZpcnN0bmFtZSk9PTEsIE5BLCBwaGRfbWV0YWRmJGZpcnN0bmFtZSkgIyBzaW5nbGUtY2hhcmFjdGVyIHN0cmluZyAoaS5lLiBpbml0aWFsKSB0byBOQQ0KDQoNCmBgYA0KDQoNCiMgMjogTGFzdCBuYW1lcyBmcm9tICdhdXRldXInIG9uIE5BUkNJUyBkaXNzZXJ0YXRpb24gcGFnZQ0KDQoNCkZpcnN0LCB3ZSBleHRyYWN0IGxhc3QgbmFtZXMgaW4gdGhlIGZvcm1hdCAibGFzdG5hbWUgY29tbWEgZmlyc3RuYW1lIg0KDQpgYGB7ciBsYXN0LW5hbWVzMX0NCg0KIyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciBhIGNvbW1hDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIGdzdWIoIiwuKiQiLCAiIiwgcGhkX21ldGFkZiRhdXRldXIpIA0KDQojIHJlbW92ZSBkaWFjcml0aWNzDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cmlfdHJhbnNfZ2VuZXJhbChwaGRfbWV0YWRmJGxhc3RuYW1lLCBpZCA9ICJsYXRpbi1hc2NpaSIpDQoNCiMgd2UgYXNzdW1lIHRoYXQgVi9ELCB2L2QgYW5kIHYuZC4gaW5kaWNhdGUgdGhlIHBvcHVsYXIgRHV0Y2ggbm9iaWxpYXJ5IHBhcnRpY2xlICJ2YW4gZGUiDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cl9yZXBsYWNlKHBoZF9tZXRhZGYkbGFzdG5hbWUsICIodlxcLmRcXC4pfCgoVnx2KS8oRHxkKSkiLCAidmFuIGRlIikNCg0KDQojIHJlbW92ZSBpbml0aWFscw0KcGhkX21ldGFkZiRsYXN0bmFtZSA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJGxhc3RuYW1lLCBpbml0aWFscGF0dGVybikgIyBvYmplY3QgaW5pdGlhbHBhdHRlcm4gZGVmaW5lZCBpbiBzZWN0aW9uIDENCnBoZF9tZXRhZGYkbGFzdG5hbWUgPC0gdHJpbXdzKHBoZF9tZXRhZGYkbGFzdG5hbWUsIHdoaWNoID0gImJvdGgiKSAjIHJlbW92aW5nIHdoaXRlc3BhY2UNCg0KDQojIHJlbW92ZSB0aXRsZXMNCnBoZF9tZXRhZGYkbGFzdG5hbWUgPC0gdHJpbXdzKHBoZF9tZXRhZGYkbGFzdG5hbWUsIHdoaWNoID0gImJvdGgiKQ0KcGhkX21ldGFkZiRsYXN0bmFtZSA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJGxhc3RuYW1lLCAiKF4oTXxtKXJcXC4/XFxzKXwoXihEfGQpcnM/XFwuP1xccyl8KF5TdFxcLlxccyl8KF4oTXxNKXI/c1xcLj9cXHMpfCheZXh0XFwuXFxzKXwoXihNfG0pZFxcLj9cXHMpIikNCg0KDQojIHJlbW92ZSBmaXJzdCBuYW1lcyBiZXR3ZWVuIGJyYWNrZXRzIGZyb20gdGhlIGxhc3QgbmFtZQ0KcGhkX21ldGFkZiRsYXN0bmFtZSA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJGxhc3RuYW1lLCAiXFxzXFwoLipcXCkkIikNCg0KDQojIE5leHQsIHdlIGV4dHJhY3QgdGhlIG5vYmlsaWFyeSBwYXJ0aWNsZXMgYW5kIHNhdmUgdGhlc2UgaW4gYSBzZXBhcmF0ZSBvYmplY3QuIFRoZXNlIGNhbiBiZSB1c2VkIHdoZW4gbWF0Y2hpbmcgbmFtZXMgdG8gb3RoZXIgZGF0YWJhc2VzIGxhdGVyLiANCg0KcGhkX21ldGFkZiRsYXN0bmFtZSA8LSB0cmltd3MocGhkX21ldGFkZiRsYXN0bmFtZSwgd2hpY2ggPSAiYm90aCIpICMgZmlyc3QsIHdlIHRyaW0gd2hpdGVzcGFjZXMNCg0KIyBleHRyYWN0IG5vYmlsaWFyeSBwYXJ0aWNsZXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGFzdCBuYW1lIHN0cmluZyAodmFuZGUzKQ0KcGhkX21ldGFkZiRucCA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJGxhc3RuYW1lLCBwYXN0ZSh2YW5kZTMsIGNvbGxhcHNlID0gInwiKSkgIyBleHRyYWN0IGludG8gbmV3IHZhcmlhYmxlIG5wDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRsYXN0bmFtZSwgcGFzdGUodmFuZGUzLCBjb2xsYXBzZSA9ICJ8IikpICMgcmVtb3ZlIGZyb20gbGFzdG5hbWUgdmFyaWFibGUNCg0KIyBleHRyYWN0IG5vYmlsaWFyeSBwYXJ0aWNsZXMgYXQgdGhlIGVuZCBvZiB0aGUgYXV0ZXVyIHN0cmluZyAodmFuZGU0KQ0KIyBmaXJzdCBkZXRlY3QsIG9yIGVsc2UgaXQgb3ZlcndyaXRlcyB0aGUgbnAgd2l0aCBOQSBpZiBub3QgYXBwbGljYWJsZQ0KcGhkX21ldGFkZiRlbmQgPC0gYXMubnVtZXJpYyhzdHJfZGV0ZWN0KHBoZF9tZXRhZGYkYXV0ZXVyLCBwYXN0ZSh2YW5kZTQsIGNvbGxhcHNlID0gInwiKSkpDQpwaGRfbWV0YWRmJG5wIDwtIGlmZWxzZShwaGRfbWV0YWRmJGVuZD09MSwgc3RyX2V4dHJhY3QocGhkX21ldGFkZiRhdXRldXIsIHBhc3RlKHZhbmRlNCwgY29sbGFwc2UgPSAifCIpKSwgcGhkX21ldGFkZiRucCkgI29ubHkgZXh0cmFjdCBpZiBucCBpcyBkZXRlY3RlZCBhdCB0aGUgZW5kDQpwaGRfbWV0YWRmIDwtIHN1YnNldChwaGRfbWV0YWRmLCBzZWxlY3QgPSAtZW5kKQ0KDQojIGFsc28gZXh0cmFjdCBub2JpbGlhcnkgcGFydGljbGVzIGF0IHRoZSBlbmQgb2YgdGhlIGxhc3RuYW1lIHN0cmluZyAodmFuZGU0KQ0KcGhkX21ldGFkZiRlbmQgPC0gYXMubnVtZXJpYyhzdHJfZGV0ZWN0KHBoZF9tZXRhZGYkbGFzdG5hbWUsIHBhc3RlKHZhbmRlNCwgY29sbGFwc2UgPSAifCIpKSkNCnBoZF9tZXRhZGYkbnAgPC0gaWZlbHNlKHBoZF9tZXRhZGYkZW5kPT0xLCBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJGxhc3RuYW1lLCBwYXN0ZSh2YW5kZTQsIGNvbGxhcHNlID0gInwiKSksIHBoZF9tZXRhZGYkbnApDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRsYXN0bmFtZSwgcGFzdGUodmFuZGU0LCBjb2xsYXBzZSA9ICJ8IikpDQpwaGRfbWV0YWRmIDwtIHN1YnNldChwaGRfbWV0YWRmLCBzZWxlY3QgPSAtZW5kKSAjcmVtb3ZlIGludGVybWVkaWF0ZSBvYmplY3QNCg0KIyB0cmltIHdoaXRlIHNwYWNlcyBpbiB0aGUgbm92aWxpYXJ5IHBhcnRpY2xlDQpwaGRfbWV0YWRmJG5wIDwtIHRyaW13cyhwaGRfbWV0YWRmJG5wLCB3aGljaCA9ICJib3RoIikNCg0KIyByZW1vdmluZyBtdWx0aXBsZSBzcGFjZXMNCnBoZF9tZXRhZGYkbGFzdG5hbWUgPC0gc3ViKCJcXHN7Mix9IiwgIlxccyIsIHBoZF9tZXRhZGYkbGFzdG5hbWUpDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHRyaW13cyhwaGRfbWV0YWRmJGxhc3RuYW1lLCB3aGljaCA9ICJib3RoIikNCg0KIyByZW1vdmluZyAiLSIgZnJvbSBub2JpbGlhcnkgcGFydGljbGUgRWwtIG9yIEFsLSBhbmQgIiciIGZvciAndCANCnBoZF9tZXRhZGYkbnAgPC0gc3RyX3JlbW92ZShwaGRfbWV0YWRmJG5wLCAiLSIpDQpwaGRfbWV0YWRmJG5wIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRucCwgIlwnIikNCg0KIyByZW1vdmUgSnIuDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRsYXN0bmFtZSwgIlxcc0pyXFwuJCIpDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRsYXN0bmFtZSwgIlxcc0p1bmlvciQiKQ0KDQojIHJlbW92ZSBpbnRlcnB1bmN0aW9uDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHN0cl9yZW1vdmVfYWxsKHBoZF9tZXRhZGYkbGFzdG5hbWUsICIoXFw/KXwoXFxgKXwoXFxeKXwoXlxcJyl8KFxcwrQpfChcXMK3KSIpDQoNCiMgbmFtZXMgYW5kIG5vYmlsaWFyeSBwYXJ0aWNsZXMgdG8gbG93ZXJjYXNlDQpwaGRfbWV0YWRmJGxhc3RuYW1lIDwtIHRvbG93ZXIocGhkX21ldGFkZiRsYXN0bmFtZSkNCnBoZF9tZXRhZGYkbnAgPC0gdG9sb3dlcihwaGRfbWV0YWRmJG5wKQ0KDQojIHdlIG9ubHkgd2FudCB0aGUgZmlyc3QgbGFzdCBuYW1lIGlmIHRoZXJlIGFyZSBtdWx0aXBsZQ0KcGhkX21ldGFkZiRsYXN0bmFtZSA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJGxhc3RuYW1lLCAiWzpsb3dlcjpdKyIpDQoNCg0KIyBjb21iaW5pbmcgbm9iaWxpYXJ5IHBhcnRpY2xlIGFuZCBsYXN0IG5hbWUgaW50byBhIHNlcGFyYXRlIG9iamVjcg0KcGhkX21ldGFkZiAlPiUNCiAgbXV0YXRlKGxhc3RuYW1lX2Z1bGwgPSBpZmVsc2UoIWlzLm5hKG5wKSwgcGFzdGUobnAsIGxhc3RuYW1lKSwgbGFzdG5hbWUpKSAtPiBwaGRfbWV0YWRmDQoNCg0KYGBgDQoNCg0KDQojIDM6IEV4dHJhY3RpbmcgZmlyc3QgbmFtZXMgZnJvbSBwZXJzb25hbCBOQVJDSVMgcHJvZmlsZXMNCg0KSW4gdGhlIGZvbGxvd2luZyBwYXJ0IG9mIHRoZSBzY3JpcHQsIGZpcnN0IG5hbWVzIGZyb20gcGVyc29uYWwgTkFSQ0lTIHByb2ZpbGVzIHdpbGwgYmUgY2xlYW5lZC4gVGhlIG1ldGhvZCBoZXJlIGlzIHJvdWdobHkgdGhlIHNhbWUgYXMgdGhlIG1ldGhvZCB1c2VkIHRvIGNsZWFuIHRoZSBmaXJzdCBuYW1lcyBmcm9tIHRoZSAnQXV0aG9yJyBzZWN0aW9uIG9mIGRpc3NlcnRhdGlvbiBOQVJDSVMgcGFnZXMuIA0KDQpUaGUgY2xlYW5lZCBmaXJzdCBuYW1lcyBhcmUgc3RvcmVkIGluIGFuIGludGVybWVkaWF0ZSBvYmplY3QsICJpbnQiLCB0byBlbnN1cmUgdGhhdCB0aGUgb3JpZ2luYWwgc2NyYXBlZCBuYW1lIGlzIHByZXNlcnZlZCBpbiAibmFyY2lzbmFtZSIuIA0KDQoNCiMjIEV4dHJhY3QgZmlyc3QgbmFtZXMgaW4gYnJhY2tldHMNCg0KRS5nLiAiQS5CLkMuIChBbmRyZWEpIFNtaXRoIg0KDQpgYGB7ciBuYXJjaXNuYW1lLWJyYWNrZXRzfQ0KDQpwaGRfbWV0YWRmJGludCA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJG5hcmNpc25hbWUsICIoPzw9XFwoKS4qKD89XFwpKSIpDQoNCnBoZF9tZXRhZGYkaW50IDwtIGlmZWxzZShwaGRfbWV0YWRmJGludCA9PSAiIiwgTkEsIHBoZF9tZXRhZGYkaW50KQ0KDQpgYGANCg0KDQojIyBFeHRyYWN0IGV2ZXJ5dGhpbmcgYWZ0ZXIgYSBjb21tYQ0KDQoNCkUuZy4gIlNtaXRoLCBBbmRyZWEiDQoNCmBgYHtyIG5hcmNpc25hbWUtY29tbWF9DQoNCnBoZF9tZXRhZGYkY29tbWEgPC0gc3RyX2RldGVjdChwaGRfbWV0YWRmJG5hcmNpc25hbWUsICIsIikgIyBvbmx5IHdoZW4gbmFyY2lzbmFtZSBjb250YWlucyBhIGNvbW1hDQoNCnBoZF9tZXRhZGYgPC0gcGhkX21ldGFkZiAlPiUgDQogIG11dGF0ZShpbnQgPSBpZmVsc2UoKGlzLm5hKGludCkgJiBjb21tYT09VFJVRSksIHN0cl9yZW1vdmUobmFyY2lzbmFtZSwgIi4qLCIpLCBpbnQpKQ0KDQpwaGRfbWV0YWRmJGludCA8LSB0cmltd3MocGhkX21ldGFkZiRpbnQsIHdoaWNoID0gYygiYm90aCIpKQ0KDQpwaGRfbWV0YWRmIDwtIHN1YnNldChwaGRfbWV0YWRmLCBzZWxlY3QgPSAtY29tbWEpDQoNCmBgYA0KDQoNCiMjIENsZWFuaW5nIE5hcmNpcyBuYW1lcw0KDQpTaW1pbGFyIGFwcHJvYWNoIHRvIGV4dHJhY3Rpb24gb2YgZmlyc3QgbmFtZXMgZnJvbSAnQXV0ZXVyJywgbWVhbmluZyB3ZSByZW1vdmUgbm9uLW5hbWUgc3RyaW5ncyBmcm9tIHRoZSBuYW1lIG9iamVjdCAobm9iaWxpYXJ5IHBhcnRpY2xlcywgaW5pdGlhbHMsIHRpdGxlcywgcHVuY3R1YXRpb24pIA0KDQpgYGB7ciBuYXJjaXMtY2xlYW5pbmd9DQoNCiMgbm9iaWxpYXJ5IHBhcnRpY2xlcyBhdCBkaWZmZXJlbnQgcGxhY2VzIGluIHRoZSBzdHJpbmcNCnBoZF9tZXRhZGYkaW50IDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRpbnQsIHBhc3RlMCh2YW5kZTAsIGNvbGxhcHNlPSJ8IikpDQpwaGRfbWV0YWRmJGludCA8LSBzdHJfcmVtb3ZlKHBoZF9tZXRhZGYkaW50LCBwYXN0ZSh2YW5kZTEsIGNvbGxhcHNlID0gInwiKSkNCnBoZF9tZXRhZGYkaW50IDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRpbnQsIHBhc3RlKHZhbmRlMiwgY29sbGFwc2UgPSAifCIpKQ0KcGhkX21ldGFkZiRpbnQgPC0gc3RyX3JlbW92ZShwaGRfbWV0YWRmJGludCwgcGFzdGUodmFuZGUzLCBjb2xsYXBzZSA9ICJ8IikpDQpwaGRfbWV0YWRmJGludCA8LSBzdHJfcmVtb3ZlKHBoZF9tZXRhZGYkaW50LCBwYXN0ZSh2YW5kZTQsIGNvbGxhcHNlID0gInwiKSkNCg0KIyByZW1vdmluZyBpbml0aWFscyANCnBoZF9tZXRhZGYkaW50IDwtIHN0cl9yZW1vdmVfYWxsKHBoZF9tZXRhZGYkaW50LCBpbml0aWFscGF0dGVybikgIyBvYmplY3QgaW5pdGlhbHBhdHRlcm4gZGVmaW5lZCBpbiBzZWN0aW9uIDENCg0KIyBuZXh0LCB3ZSByZW1vdmUgYSBudW1iZXIgb2YgZGlmZmVyZW50IHRpdGxlcyB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgbmFtZSBvYmplY3QNCnBoZF9tZXRhZGYkaW50IDwtIHN0cl9yZW1vdmVfYWxsKHBoZF9tZXRhZGYkaW50LCAiKE1TYyl8KE1BKXwoTVBoaWwpfChQaEQpfChNclxcLil8KF5Ncil8KChEfGQpcnM/XFwuKXwoTWRcXC4pfChNcj9zXFwuKSIpDQoNCg0KcGhkX21ldGFkZiRpbnQgPC0gZ3N1YigiLy4qIiwgIiIsIHBoZF9tZXRhZGYkaW50KSAjIHNvbWUgbmFtZXMgaW4gdGhlIGZvcm0gIkZsb29yL0Zsb3JpcyIuIFJlbW92ZSBldmVyeXRoaW5nIGFmdGVyICIvIg0KDQoNCiMgZmluYWxseSwgd2UgZG8gc29tZSBnZW5lcmFsIGNsZWFuaW5nIG9mIHRoZSBuYW1lcw0KcGhkX21ldGFkZiRpbnQgPC0gdHJpbXdzKHBoZF9tZXRhZGYkaW50LCB3aGljaCA9ICJib3RoIikNCg0KcGhkX21ldGFkZiRpbnQgPC0gdG9sb3dlcihwaGRfbWV0YWRmJGludCkgIyBzZXQgbmFtZXMgdG8gbG93ZXJjYXNlDQoNCiMgcmVtb3ZlIGRpYWNyaXRpY3MgZnJvbSB0aGUgbmFtZQ0KcGhkX21ldGFkZiRpbnQgPC0gc3RyaV90cmFuc19nZW5lcmFsKHBoZF9tZXRhZGYkaW50LCBpZCA9ICJsYXRpbi1hc2NpaSIpDQoNCiMga2VlcCBvbmx5IHRoZSBmaXJzdC1tZW50aW9uZWQgbmFtZQ0KcGhkX21ldGFkZiRpbnQgPC0gc3RyX2V4dHJhY3QocGhkX21ldGFkZiRpbnQsICJbYS16XStcXC0qW2Etel0qIikNCg0KDQpwaGRfbWV0YWRmIDwtIHBoZF9tZXRhZGYgJT4lDQogIG11dGF0ZShpbnQgPSBpZmVsc2UoKGludCA9PSAiXi8vcyQiIHwgaW50ID09ICIiKSAsTkEsIGludCkpICMgZW1wdHkgdG8gTkENCg0KcGhkX21ldGFkZiRpbnQgPC0gdHJpbXdzKHBoZF9tZXRhZGYkaW50LCB3aGljaCA9ICJib3RoIikNCnBoZF9tZXRhZGYkaW50IDwtIGlmZWxzZShuY2hhcihwaGRfbWV0YWRmJGludCk9PTEsIE5BLCBwaGRfbWV0YWRmJGludCkgIyByZW1vdmUgZXJyb25lb3VzIG9uZS1jaGFyYWN0ZXIgbmFtZXMNCg0KDQoNCmBgYA0KDQoNCg0KIyA0OiBDb21iaW5pbmcgZmlyc3QgbmFtZSBpbmZvcm1hdGlvbiBmcm9tIGRpc3NlcnRhdGlvbiAmIHBlcnNvbmFsIE5BUkNJUyBwYWdlcw0KDQpXZSBnaXZlIHByaW9yaXR5IHRvIG5hbWVzIGZyb20gdGhlIGRpc3NlcnRhdGlvbiBwYWdlcywgYmVjYXVzZSB0aGVzZSBhcHBlYXIgdG8gYmUgdGhlIGZvcm1hbCBmaXJzdCBuYW1lcywgd2hpbGUgcGVyc29uYWwgTkFSQ0lTIHBhZ2UgbmFtZXMgY29ycmVzcG9uZCB0byB0aGUgZ2l2ZW4gZmlyc3QgbmFtZS4gDQpHaXZlbiB0aGF0IHdlIG1hdGNoIGluZGl2aWR1YWxzIGJhc2VkIG9uIHRoZSBuYW1lIHdoaWNoIGlzIGZvcm1hbGx5IHJlZ2lzdGVyZWQsIGl0IHNlZW1zIGFwcHJvcHJpYXRlIHRvIHRha2UgdGhlICdhdXRldXInIG5hbWUgYXMgdGhlIGJhc2lzIGFuZCByZXBsYWNlIHdpdGggJ25hcmNpc25hbWUnIHdoZW4gdGhlIG5hbWUgYmFzZWQgb24gJ2F1dGV1cicgaXMgdW5rbm93bi4gDQoNCg0KYGBge3IgaGFybW9uaXppbmctTkFSQ0lTfQ0KDQpwaGRfbWV0YWRmIDwtIHBoZF9tZXRhZGYgJT4lDQogIG11dGF0ZShmaXJzdG5hbWUgPSBpZmVsc2UoaXMubmEoZmlyc3RuYW1lKSwgaW50LCBmaXJzdG5hbWUpKQ0KDQojIHNldCBlbXB0eSB0byBOQQ0KcGhkX21ldGFkZiA8LSBwaGRfbWV0YWRmICU+JQ0KICBtdXRhdGUoZmlyc3RuYW1lID0gaWZlbHNlKGZpcnN0bmFtZT09IiIsIE5BLCBmaXJzdG5hbWUpKQ0KDQpwaGRfbWV0YWRmJG5hcmNpc19mbiA8LSBwaGRfbWV0YWRmJGludCAjIGxvbmdlciBidXQgbW9yZSBpbmZvcm1hdGl2ZSBuYW1lDQoNCnBoZF9tZXRhZGYgPC0gc3Vic2V0KHBoZF9tZXRhZGYsIHNlbGVjdCA9IC1pbnQpDQoNCg0KYGBgDQoNCg0KDQojIDU6IEZpcnN0IG5hbWVzIGZyb20gZGlzc2VydGF0aW9uIFBERnMNCg0KVGhlcmUgYXJlIHR3byBuYW1lIG9iamVjdHMgZ2F0aGVyZWQgZnJvbSB0aGUgcGRmczogcGRmbmFtZSAoY29uc2lzdGluZyBvZiBuYW1lcyB0aGF0IHdlcmUgZXh0cmFjdGVkIGZyb20gcnVubmluZyB0ZXh0IGluIHRoZSBkaXNzZXJ0YXRpb24sIG9mdGVuIGZyb20gZGlzc2VydGF0aW9uIGZyb250IHBhZ2VzKSBhbmQgcGRmbmFtZXAxIChuYW1lcyBvbiBzdGFuZGFyZGl6ZWQgZGlzc2VydGF0aW9uIGZyb250cGFnZXMgdGhhdCBhcmUgcHJvdmlkZWQgYnkgYSBzdWJzZXQgb2YgdW5pdmVyc2l0aWVzLCB3aGljaCBjb250YWluIGEgc3BlY2lmaWMgaGVhZGVyIGZvciB0aGUgUGhEIG5hbWUpDQoNCg0KDQojIyBDbGVhbmluZyB0aGUgcGRmbmFtZSBvYmplY3QNCg0KSW4gY29tcGFyaXNvbiB0byB0aGUgbmFtZXMgZnJvbSB0aGUgMiBOQVJDSVMgcGFnZSBzb3VyY2VzLCB0aGUgbmFtZSBvYmplY3QgZnJvbSB0aGUgZGlzc2VydGF0aW9uIFBERiBjYW4gc29tZXRpbWVzIGJlIGEgYml0IG1lc3N5LiBFc3BlY2lhbGx5IHRoZSAncGRmbmFtZScgb2JqZWN0LCBkdWUgdG8gdGhlIGZhY3QgdGhhdCB0aGVzZSBuYW1lcyBhcmUgZXh0cmFjdGVkIGZyb20gbmF0dXJhbCB0ZXh0LCBtZWFuaW5nIHNvbWV0aW1lcyBub24tbmFtZSBpbmZvcm1hdGlvbiBlbnRlcnMgdGhlIG5hbWUgb2JqZWN0LiBGdXJ0aGVybW9yZSwgc29tZSBvZiB0aGUgb2xkZXIgUERGcyBhcmUgc2Nhbm5lZCB2ZXJzaW9ucyBvZiBhIHByaW50ZWQgZGlzc2VydGF0aW9uLCBtZWFuaW5nIHRoZXJlIG1heSBiZSBlcnJvcnMgd2hlbiB0aGVzZSBpbWFnZXMgYXJlIGNvbnZlcnRlZCB0byB0ZXh0LiANCg0KSW4gdGhlIHByb3ZpZGVkIGRhdGFmcmFtZSwgd2Ugb25seSBpbmNsdWRlZCBtb3JlIHN0cmFpZ2h0Zm9yd2FyZCBuYW1lIGV4YW1wbGVzLiBTbywgdGhlIGNvZGUgYmVsb3cgaXMgbm90IGRpcmVjdGx5IGFwcGxpY2FibGUgdG8gb3VyIGV4YW1wbGUgY2FzZSwgYnV0IHN0aWxsIHNob3dzIGhvdyB3ZSBjbGVhbmVkIHNvbWUgb2YgdGhlIG1lc3NpZXIgbmFtZXMuDQoNCmBgYHtyIGNsZWFuaW5nLXBkZm5hbWV9DQoNCiMgcmVtb3ZlIGRpYWNyaXRpY3MNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBzdHJpX3RyYW5zX2dlbmVyYWwocGhkX21ldGFkZiRwZGZuYW1lLCAnbGF0aW4tYXNjaWknKQ0KDQojIHJlbW92ZSBwdW5jdHVhdGlvbg0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIHN0cl9yZW1vdmVfYWxsKHBoZF9tZXRhZGYkcGRmbmFtZSwgIlt+IUAjXFwkJVxcXlxcJlxcKlxcKFxcKVxce1xcfVxcX1xcKzo8PlxcP1xcLztcXCdcXFtcXF1cXD1cXCxcXOKAolxcLl0iKQ0KDQojIHJlbW92ZSBkaWdpdHMNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJHBkZm5hbWUsICAiWzpkaWdpdDpdIikNCg0KIyByZW1vdmUgY29weXJpZ2h0IGluZGljYXRpb25zDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gc3RyX3JlbW92ZV9hbGwocGhkX21ldGFkZiRwZGZuYW1lLCAgImNvcHlyaWdodCIpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gc3RyX3JlbW92ZV9hbGwocGhkX21ldGFkZiRwZGZuYW1lLCAgIihDKSIpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzYWxsIHJpZ2h0cy4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCg0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIHRyaW13cyhwaGRfbWV0YWRmJHBkZm5hbWUsIHdoaWNoID0gImJvdGgiKQ0KDQojIHJlbW92aW5nIHRpdGxlcyBmcm9tIHRoZSBuYW1lDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigibWFzdGVyLioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lKQ0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGdzdWIoIlxcc21zYy4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNtZC4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNtYWdpc3Rlci4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNtYWdpc3RyaS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNiYWNoZWxvci4qIiwgIiIscGhkX21ldGFkZiRwZGZuYW1lKQ0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGdzdWIoIlxcc2xhdXJlYS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNtZXN0cmUuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzZG90dG9yZS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHN1cG0uKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpICMgc3BlY2lmaWMgVU0gcHJlc3MgdGhpbmcNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNwXFxzdVxcc20uKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpICMgc3BlY2lmaWMgVU0gcHJlc3MgdGhpbmcNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNkaXBsLioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lKQ0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGdzdWIoIlxcc2RpcGxvbS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNkaXBsb21hLioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lKQ0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGdzdWIoIlxcc2xpY2VuLioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lKQ0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGdzdWIoIlxcc2hiby4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNodHMuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzZG9jdG9yYW5kdXMuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzY2FuZGlkYXQuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzc2FyamFuYS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNzcGVjaWFsaXN0LioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lKQ0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGdzdWIoIlxcc3VuaXZlci4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNlbmdpbmVlci4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNpbmdlbmllcm8uKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzaW5naW5lci4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNpbmdlbmllcmEuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzaW5nZW5pZXJpYS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNpbmdlZ25lcmUuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzaW5nZWduZXJpYS4qIiwgIiIsIHBoZF9tZXRhZGYkcGRmbmFtZSkNCnBoZF9tZXRhZGYkcGRmbmFtZSA8LSBnc3ViKCJcXHNpbmdlbmlldXIuKiIsICIiLCBwaGRfbWV0YWRmJHBkZm5hbWUpDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gZ3N1YigiXFxzW1s6YWxwaGE6XVxcLV0qaW5nZW5pZXVyLioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lKSAjIGluZ2VuaWV1ciBhbmQgZXZlcnl0aGluZyB0aGF0IGlzIGF0dGFjaGVkIGJlZm9yZQ0KDQojIHNwZWNpZmljIHR5cGVzIG9mIGVuZ2luZWVyaW5nIHRpdGxlcw0KZW5naW5lZXJpbmd0aXRsZXMgPC0gYygiZWxlKGN8ayl0cm90ZWNobmlzY2guKiIsICJjaXZpZWwuKiIsICIobGFuZCk/KHdlcmt0dWlnKT8oc2NoZWVwcyk/KG1pam4pP2JvdXdrdW5kaWcuKiIsICIod2lzKT8obmF0dXVyKT8oc2NoZWkpPyh3ZXJrdHVpZyk/KG1hdGVyaWFhbCk/KGJlc3R1dXJzKT9rdW5kaWcuKiIsICJpbmZvcm1hdGljYS4qIiwgImdlb2RldGlzY2guKiIsICJsdWNodC0gZW4gcnVpbXRldmFhcnQgdGVjaG5pc2NoLioiLCAiY2hlbWlzY2guKiIsICJtYXJpdGllbS4qIiwgImJpb2luZm9ybWF0aWNhLioiLCAicmFhZGdldmVuZC4qIiwgImFyY2hpdGVjdC4qIiwgImdlb2xvZ2lzY2guKiIsICJnZW9meXNpc2NoLioiLCAibWVldC0gZW4gcmVnZWx0ZWNobmlzY2giKQ0KDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gc3RyX3JlbW92ZShwaGRfbWV0YWRmJHBkZm5hbWUsIHBhc3RlMChlbmdpbmVlcmluZ3RpdGxlcywgY29sbGFwc2UgPSAifCIpKQ0KDQpwaGRfbWV0YWRmJHBkZm5hbWUgPC0gdHJpbXdzKHBoZF9tZXRhZGYkcGRmbmFtZSwgd2hpY2ggPSAiYm90aCIpDQoNCmBgYA0KDQoNClNvbWUgZGlzc2VydGF0aW9ucyBoYXZlIG11bHRpcGxlIGF1dGhvcnMuIFdlIG9ubHkgd2FudCB0aGUgZmlyc3QgYXV0aG9yLCBzbyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciAiOyINCmBgYHtyIG11bHRpcGxlLWF1dGhvcnMyfQ0KDQpwaGRfbWV0YWRmJHBkZm5hbWVwMSA8LSBnc3ViKCI7LioiLCAiIiwgcGhkX21ldGFkZiRwZGZuYW1lcDEpDQoNCmBgYA0KDQoNCg0KIyMgRmlyc3QgbmFtZXMgZnJvbSBgcGRmbmFtZXAxYA0KDQpUaGUgb2JqZWN0IGBwZGZuYW1lcDFgIGNvbnRhaW5zIGFsbCBuYW1lcyBpbiBhIHN0YW5kYXJkaXplZCBmb3JtYXQuIFRoZSBmb3JtYXQgaXM6ICJsYXN0IG5hbWUsIGZpcnN0IG5hbWUocykiLiBUbyBleHRyYWN0IGZpcnN0IG5hbWVzLCB3ZSBsb29rIGF0IGV2ZXJ5dGhpbmcgdGhhdCBmb2xsb3dzIHRoZSBjb21tYS4gDQoNCmBgYHtyIGNvbW1hbmFtZXMyfQ0KDQpwaGRfbWV0YWRmJGNvbSA8LSBzdHJfZGV0ZWN0KHBoZF9tZXRhZGYkcGRmbmFtZXAxLCAiLCIpICMgZGV0ZWN0IGNvbW1hDQoNCiMgS2VlcCBldmVyeXRoaW5nIGFmdGVyIGEgY29tbWEgaWYgdGhlcmUgaXMgb25lDQpwaGRfbWV0YWRmIDwtIHBoZF9tZXRhZGYgJT4lDQogIG11dGF0ZShmaXJzdG5hbWVwZGYgPSBpZmVsc2UoKGNvbT09VFJVRSksIHN0cl9yZW1vdmUocGRmbmFtZXAxLCAiLiosIiksIHBkZm5hbWVwMSkpICU+JQ0KICBzZWxlY3QoLWNvbSkNCg0KYGBgDQoNCg0KIyMgQ2xlYW5pbmcgdGhlIGZpcnN0IG5hbWVzDQoNClJlbW92aW5nIG5vYmlsaWFyeSBwYXJ0aWNsZXMsIGluaXRpYWxzIGFtZCBwdW5jdHVhdGlvbi4gDQoNCg0KYGBge3IgY2xlYW5pbmctcGRmbmFtZXAxfQ0KDQojIHJlbW92aW5nIGFsbCBub2JpbGlhcnkgcGFydGljbGVzDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSBzdHJfcmVtb3ZlKHBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmLCBwYXN0ZTAodmFuZGUwLCBjb2xsYXBzZT0ifCIpKQ0KcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYgPC0gc3RyX3JlcGxhY2VfYWxsKHBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmLCBwYXN0ZSh2YW5kZTEsIGNvbGxhcHNlID0gInwiKSwgIiIpDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiwgcGFzdGUodmFuZGUyLCBjb2xsYXBzZSA9ICJ8IikpDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSBzdHJfcmVwbGFjZV9hbGwocGhkX21ldGFkZiRmaXJzdG5hbWVwZGYsIHBhc3RlKHZhbmRlMywgY29sbGFwc2UgPSAifCIpLCAiIikNCnBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmIDwtIHN0cl9yZW1vdmUocGhkX21ldGFkZiRmaXJzdG5hbWVwZGYsIHBhc3RlKHZhbmRlNCwgY29sbGFwc2UgPSAifCIpKQ0KDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSB0cmltd3MocGhkX21ldGFkZiRmaXJzdG5hbWVwZGYsIHdoaWNoID0gImJvdGgiKSAjIHRyaW1taW5nIHdoaXRlc3BhY2UNCg0KcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYgPC0gc3RyX3JlbW92ZV9hbGwocGhkX21ldGFkZiRmaXJzdG5hbWVwZGYsIGluaXRpYWxwYXR0ZXJuKSAjIG9iamVjdCBpbml0aWFscGF0dGVybiBkZWZpbmVkIGluIHNlY3Rpb24gMQ0KDQojIGV4dHJhY3Rpbmcgb25seSB0aGUgZmlyc3QtbWVudGlvbmVkIGZpcnN0IG5hbWUgYW5kIHJlbW92aW5nIHB1bmN0dWF0aW9uIG1hcmtzDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiwgIlthLXpdK1xcLSpbYS16XSoiKQ0KDQoNCnBoZF9tZXRhZGYgPC0gcGhkX21ldGFkZiAlPiUNCiAgbXV0YXRlKGZpcnN0bmFtZXBkZiA9IGlmZWxzZSgoZmlyc3RuYW1lcGRmID09ICJeXFxzJCIgfCBmaXJzdG5hbWVwZGYgPT0gIiIpICxOQSwgZmlyc3RuYW1lcGRmKSkgIyBlbXB0eSB0byBOQQ0KDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSBpZmVsc2UobmNoYXIocGhkX21ldGFkZiRmaXJzdG5hbWVwZGYpPT0xLCBOQSwgcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYpICMgcmVtb3ZlIGVycm9uZW91cyBvbmUtY2hhcmFjdGVyIG5hbWVzDQoNCmBgYA0KDQoNCiMjIEFkZGluZyBmaXJzdCBuYW1lcyBmcm9tIGBwZGZuYW1lYA0KDQpCZWNhdXNlIG5hbWVzIGZyb20gdGhlIGBwZGZuYW1lYCBvYmplY3QgYXJlIG5vdCBhcyBuZWF0IGFzIG5hbWVzIGZyb20gYHBkZm5hbWVwMWAsIHdlIGdpdmUgcHJpb3JpdHkgdG8gdGhlIGxhdHRlci4gDQoNCg0KVGhlIGZvcm1hdCBvZiB0aGUgYHBkZm5hbWVgIG9iamVjdCBpcyAiZmlyc3QgbmFtZShzKSBsYXN0IG5hbWUiLiBTbywgd2UgZXh0cmFjdCB0aGUgZmlyc3Qgd29yZCBmcm9tIHRoaXMgb2JqZWN0IHRvIGdhdGhlciB0aGUgZmlyc3QgbmFtZS4gDQpTb21lIG5hbWVzIGNvbnRhaW4gYSBsYXJnZSBudW1iZXIgb2Ygd2hpdGVzcGFjZXMgKGUuZy4gIm0gYSB0IHQgaCBlIHcgaiBvIGggbiBzIG8gbiIgb3IgIm0gYXR0aGV3IGogb2huc29uIikuIFRoZSBmb3JtZXIgY2FzZSwgd2UgY3VycmVudGx5IGRvIG5vdCBleHRyYWN0LiANCg0KDQpgYGB7ciBmaXJzdG5hbWVzLXBkZn0NCg0KIyBBIGZldyBuYW1lcyBoYXZlIGEgY291cGxlIG9mIGFkZGVkIHNwYWNlcywgb2Z0ZW4gZm9sbG93aW5nIHRoZSBmaXJzdCBsZXR0ZXIgb2YgYSBuYW1lLiBSZW1vdmUgdGhpcyBzcGFjZSBhZnRlciB0aGUgZmlyc3QgbGV0dGVyDQoNCnBoZF9tZXRhZGYkc3BhY2VzIDwtIGFzLm51bWVyaWMoc3RyX2RldGVjdChwaGRfbWV0YWRmJHBkZm5hbWUsICJeXFxzP1s6YWxwaGE6XVxcc1s6YWxwaGE6XXsyLH0iKSkgIyBkZXRlY3QgYSBzaW5nbGUgbGV0dGVyLCBmb2xsb3dlZCBieSBhIHNwYWNlLCBmb2xsb3dlZCBieSBtb3JlIHRoYW4gMSBsZXR0ZXINCg0KcGhkX21ldGFkZiRzcGFjZXMgPC0gaWZlbHNlKGlzLm5hKHBoZF9tZXRhZGYkc3BhY2VzKSwgMCwgcGhkX21ldGFkZiRzcGFjZXMpICMgcmVwbGFjZSBOQSB3aXRoIDANCg0KcGhkX21ldGFkZiRwZGZuYW1lIDwtIGlmZWxzZShwaGRfbWV0YWRmJHNwYWNlcz09MSwgc3RyX3JlbW92ZShwaGRfbWV0YWRmJHBkZm5hbWUsICJcXHMiKSwgcGhkX21ldGFkZiRwZGZuYW1lKSAjIHJlbW92ZSB0aGUgZmlyc3Qgc3BhY2UgaWYgYSBuYW1lIGZvbGxvd3MgdGhlIHBhdHRlcm4gZGVzY3JpYmVkIGFib3ZlDQoNCnBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmMiA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJHBkZm5hbWUsICJbYS16XStcXC0qW2Etel0qIikNCg0KDQoNCiMgTm93LCB3ZSBmaWxsIHRoZSBmaXJzdG5hbWUgb2JqZWN0IHdpdGggdGhlIGZpcnN0IHdvcmQgaW4gJ3BkZm5hbWUnLCBidXQgb25seSBpZiBmaXJzdG5hbWUgYmFzZWQgb24gJ3BkZm5hbWVwMScgaXMgbWlzc2luZw0KcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYgPC0gaWZlbHNlKGlzLm5hKHBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmKSwgcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYyLCBwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZikNCg0KDQojIEFnYWluLCB3ZSByZW1vdmUgc3BhY2VzIGFuZCBvbmUtY2hhcmFjdGVyIG5hbWVzDQpwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiA8LSBzdHJfcmVtb3ZlX2FsbChwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiwgIlxccyIpICMgcmVtb3ZlIHNwYWNlcw0KcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYgPC0gaWZlbHNlKG5jaGFyKHBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmKT09MSwgTkEsIHBoZF9tZXRhZGYkZmlyc3RuYW1lcGRmKSAjIHJlbW92ZSBlcnJvbmVvdXMgb25lLWNoYXJhY3RlciBuYW1lcw0KDQoNCiMgUmVtb3ZlIHVua25vd24gY2hhcmFjdGVycw0KcGhkX21ldGFkZiRmaXJzdG5hbWVwZGYgPC0gc3RyX2V4dHJhY3QocGhkX21ldGFkZiRmaXJzdG5hbWVwZGYsICJbYS16XStcXC0qW2Etel0qIikNCg0KDQpwaGRfbWV0YWRmIDwtIHN1YnNldChwaGRfbWV0YWRmLCBzZWxlY3QgPSAtZmlyc3RuYW1lcGRmMikgIyByZW1vdmUgaW50ZXJtZWRpYXRlIG9iamVjdA0KDQoNCmBgYA0KDQoNCg0KIyA2OiBHYXRoZXJpbmcgbGFzdCBuYW1lcyBmcm9tIHRoZSBkaXNzZXJ0YXRpb24gUERGcw0KDQpUaGVyZSBpcyBhICp2ZXJ5KiBzbWFsbCBudW1iZXIgb2YgaW5kaXZpZHVhbHMgZm9yIHdob20gdGhlIGxhc3QgbmFtZSBpcyB1bmtub3duLiBUbyBmaWxsIHRoaXMsIHdlIHVzZSB0aGUgbmFtZSBvYmplY3QgZnJvbSB0aGUgZGlzc2VydGF0aW9uIGRhdGEuIEdpdmVuIHRoZSBmb3JtYXR0aW5nIG9mIG5hbWVzIGluIHRoaXMgb2JqZWN0IGFzICJmaXJzdCBuYW1lKHMpIGxhc3QgbmFtZShzKSIsIHdlIGp1c3QgdGFrZSB0aGUgbGFzdCB3b3JkIG9mIHRoZSBzdHJpbmcsIGFuZCB0aGVuIGFkZCBwb3RlbnRpYWwgbm9iaWxpYXJ5IHBhcnRpY2xlcyB0aGF0IGFyZSBtZW50aW9uZWQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc3RyaW5nLiANCg0KYGBge3IgbGFzdG5hbWVzLXBkZn0NCg0KcGhkX21ldGFkZiRsYXN0bmFtZXBkZiA8LSB3b3JkKHBoZF9tZXRhZGYkcGRmbmFtZSwgLTEpDQoNCiMgZXh0cmFjdGluZyBub2JpbGlhcnkgcGFydGljbGVzDQpwaGRfbWV0YWRmJG5wMiA8LSBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJHBkZm5hbWUsIHBhc3RlMCh2YW5kZTAsIGNvbGxhcHNlPSJ8IikpICMgbm9iaWxpYXJ5IHBhcnRpY2xlcyB0aGF0IGNhbm5vdCBiZSBwYXJ0IG9mIHRoZSBuYW1lDQpwaGRfbWV0YWRmJG5wMiA8LSBpZmVsc2UoaXMubmEocGhkX21ldGFkZiRucDIpLCBzdHJfZXh0cmFjdChwaGRfbWV0YWRmJHBkZm5hbWUsIHBhc3RlMCh2YW5kZTEsIGNvbGxhcHNlPSJ8IikpLCBwaGRfbWV0YWRmJG5wMikgIyBub2JpbGlhcnkgcGFydGljbGVzIHN1cnJvdW5kZWQgd2l0aCB3aGl0ZXNwYWNlcw0KDQojIENvbWJpbmluZyBub2JpbGlhcnkgcGFydGljbGUgYW5kIGxhc3QgbmFtZQ0KcGhkX21ldGFkZiAlPiUNCiAgbXV0YXRlKGxhc3RuYW1lX2Z1bGxfcGRmID0gaWZlbHNlKCFpcy5uYShucDIpLCBwYXN0ZShucDIsIGxhc3RuYW1lcGRmKSwgbGFzdG5hbWVwZGYpKSAtPiBwaGRfbWV0YWRmDQoNCnBoZF9tZXRhZGYkbGFzdG5hbWVwZGYgPC0gaWZlbHNlKG5jaGFyKHBoZF9tZXRhZGYkbGFzdG5hbWVwZGYpPT0xLCBOQSwgcGhkX21ldGFkZiRsYXN0bmFtZXBkZikgIyByZW1vdmUgZXJyb25lb3VzIG9uZS1jaGFyYWN0ZXIgbmFtZXMNCg0KDQpgYGANCg0KDQoNCiMgNzogSGFybW9uaXppbmcgbmFtZXMgZnJvbSBOQVJDSVMgcGFnZXMgYW5kIGRpc3NlcnRhdGlvbiB0ZXh0DQoNCk5leHQsIHdlIGhhcm1vbml6ZSB0aGUgbmFtZXMgd2Ugbm93IGhhdmUgYmFzZWQgb24gTkFSQ0lTIHBhZ2VzIChwZXJzb25hbCBhbmQgZGlzc2VydGF0aW9uIHBhZ2UpLCB3aXRoIG5hbWVzIGdhdGhlcmVkIGZyb20gZGlzc2VydGF0aW9uIFBERiB0ZXh0LiBXZSBnaXZlIHByaW9yaXR5IHRvIG5hbWVzIGZyb20gTkFSQ0lTIHBhZ2VzLCBiZWNhdXNlIHRoZXkgY29udGFpbiBsZXNzIG5vaXNlIHRoYW4gbmFtZXMgZnJvbSB0aGUgZGlzc2VydGF0aW9uIHRleHQuIA0KDQpgYGB7ciBOQVJDSVMtcGRmLWNvbWJpbmVkfQ0KDQpwaGRfbWV0YWRmJGZpcnN0bmFtZSA8LSBpZmVsc2UoaXMubmEocGhkX21ldGFkZiRmaXJzdG5hbWUpLCBwaGRfbWV0YWRmJGZpcnN0bmFtZXBkZiwgcGhkX21ldGFkZiRmaXJzdG5hbWUpDQoNCg0KcGhkX21ldGFkZiRsYXN0bmFtZSA8LSBpZmVsc2UoaXMubmEocGhkX21ldGFkZiRsYXN0bmFtZSksIHBoZF9tZXRhZGYkbGFzdG5hbWVwZGYsIHBoZF9tZXRhZGYkbGFzdG5hbWUpDQoNCg0KYGBgDQoNCg0KIyBWaWV3IG9mIHRoZSBkYXRhZnJhbWUgd2l0aCBjbGVhbmVkIGxhc3QgbmFtZXMNCg0KQWZ0ZXIgYWxsIG9mIHRoaXMgY2xlYW5pbmcsIHdlIG5vdyBoYXZlIGEgZGF0YWZyYW1lIHRoYXQgY29udGFpbnMgYSBjbGVhbmVkIGZpcnN0IG5hbWUgYW5kIGxhc3QgbmFtZSAod2l0aCBub2JpbGlhcnkgcGFydGljbGVzIGlmIHByZXNlbnQpLiBUaGlzIGRhdGFmcmFtZSBpcyB1c2VkIGFzIGlucHV0IGZvciBvdXIgZ2VuZGVyIGFuZCBldGhuaWNpdHkgdmFyaWFibGVzLiANCg0KYGBge3IgZGF0YXByZXZpZXd9DQoNCg0KcGhkX21ldGFkZlssYyg4LDEsMiwzLDQsOSwxMSwxMCwxMiw1LDYsNyldDQoNCg0KYGBgDQoNCg0KDQoNCg0KLS0tIA0KDQojIE91dHB1dA0KDQpXZSBzYXZlIHRoZSBkYXRhc2V0IHBoZF9tZXRhZGYgaW5jbHVkaW5nIHRoZSBjbGVhbmVkIGZpcnN0IGFuZCBsYXN0IG5hbWVzLCB3aXRoIHRoZSBkdXBsaWNhdGUgb2JzZXJ2YXRpb25zIHJlbW92ZWQuIA0KDQpgYGB7ciBzYXZlLCBldmFsPUZBTFNFfQ0KDQpwaGRfbWV0YWRmICU+JQ0KICBzZWxlY3QoaWQsIGZpcnN0bmFtZSwgbnAsIGxhc3RuYW1lLCBsYXN0bmFtZV9mdWxsLCBkaXNzX2JpcnRocGxhY2UsIHVuaSwgcGhkX3llYXIpIC0+IHBoZG5hbWVzDQoNCnNhdmUocGhkbmFtZXMsIGZpbGUgPSAiZGF0YS9wcm9jZXNzZWQvcGhkbmFtZXMucmRhIikNCg0KDQpgYGANCg0KDQotLS0gIA0KDQojIFJlZmVyZW5jZXMNCg0K</div>
<style>
  .center {
    text-align: center;
    color: red;
  }
</style>
  
  <hr>
  <br>
  <p class="center">Copyright &copy; 2023 </p>
    


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("names.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
